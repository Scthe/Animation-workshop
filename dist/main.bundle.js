!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=246)}([function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return s}),n.d(t,"createElement",function(){return s}),n.d(t,"cloneElement",function(){return f}),n.d(t,"createRef",function(){return F}),n.d(t,"Component",function(){return L}),n.d(t,"render",function(){return D}),n.d(t,"rerender",function(){return v}),n.d(t,"options",function(){return o});var r=function(){},o={},i=[],a=[];function s(e,t){var n,s,c,u,l=a;for(u=arguments.length;u-- >2;)i.push(arguments[u]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((s=i.pop())&&void 0!==s.pop)for(u=s.length;u--;)i.push(s[u]);else"boolean"==typeof s&&(s=null),(c="function"!=typeof e)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(c=!1)),c&&n?l[l.length-1]+=s:l===a?l=[s]:l.push(s),n=c;var f=new r;return f.nodeName=e,f.children=l,f.attributes=null==t?void 0:t,f.key=null==t?void 0:t.key,void 0!==o.vnode&&o.vnode(f),f}function c(e,t){for(var n in t)e[n]=t[n];return e}function u(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function f(e,t){return s(e.nodeName,c(c({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var h=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function d(e){!e._dirty&&(e._dirty=!0)&&1==p.push(e)&&(o.debounceRendering||l)(v)}function v(){for(var e;e=p.pop();)e._dirty&&N(e)}function m(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function b(e){var t=c({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)u(n,null),u(r,e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===h.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,O,a):e.removeEventListener(t,O,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var s=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function O(e){return this._listeners[e.type](o.event&&o.event(e)||e)}var j=[],w=0,_=!1,x=!1;function M(){for(var e;e=j.shift();)o.afterMount&&o.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,r,o,i){w++||(_=null!=o&&void 0!==o.ownerSVGElement,x=null!=e&&!("__preactattr_"in e));var a=A(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--w||(x=!1,i||M()),a}function A(e,t,n,r,o){var i=e,a=_;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),T(e,!0))),i.__preactattr_=!0,i;var s,c,u=t.nodeName;if("function"==typeof u)return function(e,t,n,r){var o=e&&e._component,i=o,a=e,s=o&&e._componentConstructor===t.nodeName,c=s,u=b(t);for(;o&&!c&&(o=o._parentComponent);)c=o.constructor===t.nodeName;o&&c&&(!r||o._component)?(k(o,u,3,n,r),e=o.base):(i&&!s&&(I(i),e=a=null),o=E(t.nodeName,u,n),e&&!o.nextBase&&(o.nextBase=e,a=null),k(o,u,1,n,r),e=o.base,a&&e!==a&&(a._component=null,T(a,!1)));return e}(e,t,n,r);if(_="svg"===u||"foreignObject"!==u&&_,u=String(u),(!e||!m(e,u))&&(s=u,(c=_?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,i=c,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),T(e,!0)}var l=i.firstChild,f=i.__preactattr_,h=t.children;if(null==f){f=i.__preactattr_={};for(var p=i.attributes,d=p.length;d--;)f[p[d].name]=p[d].value}return!x&&h&&1===h.length&&"string"==typeof h[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=h[0]&&(l.nodeValue=h[0]):(h&&h.length||null!=l)&&function(e,t,n,r,o){var i,a,s,c,u,l=e.childNodes,f=[],h={},p=0,d=0,v=l.length,b=0,y=t?t.length:0;if(0!==v)for(var O=0;O<v;O++){var j=l[O],w=j.__preactattr_,_=y&&w?j._component?j._component.__key:w.key:null;null!=_?(p++,h[_]=j):(w||(void 0!==j.splitText?!o||j.nodeValue.trim():o))&&(f[b++]=j)}if(0!==y)for(var O=0;O<y;O++){c=t[O],u=null;var _=c.key;if(null!=_)p&&void 0!==h[_]&&(u=h[_],h[_]=void 0,p--);else if(d<b)for(i=d;i<b;i++)if(void 0!==f[i]&&(x=a=f[i],S=o,"string"==typeof(M=c)||"number"==typeof M?void 0!==x.splitText:"string"==typeof M.nodeName?!x._componentConstructor&&m(x,M.nodeName):S||x._componentConstructor===M.nodeName)){u=a,f[i]=void 0,i===b-1&&b--,i===d&&d++;break}u=A(u,c,n,r),s=l[O],u&&u!==e&&u!==s&&(null==s?e.appendChild(u):u===s.nextSibling?g(s):e.insertBefore(u,s))}var x,M,S;if(p)for(var O in h)void 0!==h[O]&&T(h[O],!1);for(;d<=b;)void 0!==(u=f[b--])&&T(u,!1)}(i,h,n,r,x||null!=f.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||y(e,r,n[r],n[r]=void 0,_);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||y(e,r,n[r],n[r]=t[r],_)}(i,t.attributes,f),_=a,i}function T(e,t){var n=e._component;n?I(n):(null!=e.__preactattr_&&u(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||g(e),C(e))}function C(e){for(e=e.lastChild;e;){var t=e.previousSibling;T(e,!0),e=t}}var P=[];function E(e,t,n){var r,o=P.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),L.call(r,t,n)):((r=new L(t,n)).constructor=e,r.render=R);o--;)if(P[o].constructor===e)return r.nextBase=P[o].nextBase,P.splice(o,1),r;return r}function R(e,t,n){return this.constructor(e,n)}function k(e,t,n,r,i){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&e.base?d(e):N(e,1,i)),u(e.__ref,e))}function N(e,t,n,r){if(!e._disable){var i,a,s,u=e.props,l=e.state,f=e.context,h=e.prevProps||u,p=e.prevState||l,d=e.prevContext||f,v=e.base,m=e.nextBase,g=v||m,y=e._component,O=!1,_=d;if(e.constructor.getDerivedStateFromProps&&(l=c(c({},l),e.constructor.getDerivedStateFromProps(u,l)),e.state=l),v&&(e.props=h,e.state=p,e.context=d,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,l,f)?O=!0:e.componentWillUpdate&&e.componentWillUpdate(u,l,f),e.props=u,e.state=l,e.context=f),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!O){i=e.render(u,l,f),e.getChildContext&&(f=c(c({},f),e.getChildContext())),v&&e.getSnapshotBeforeUpdate&&(_=e.getSnapshotBeforeUpdate(h,p));var x,A,C=i&&i.nodeName;if("function"==typeof C){var P=b(i);(a=y)&&a.constructor===C&&P.key==a.__key?k(a,P,1,f,!1):(x=a,e._component=a=E(C,P,f),a.nextBase=a.nextBase||m,a._parentComponent=e,k(a,P,0,f,!1),N(a,1,n,!0)),A=a.base}else s=g,(x=y)&&(s=e._component=null),(g||1===t)&&(s&&(s._component=null),A=S(s,i,f,n||!v,g&&g.parentNode,!0));if(g&&A!==g&&a!==y){var R=g.parentNode;R&&A!==R&&(R.replaceChild(A,g),x||(g._component=null,T(g,!1)))}if(x&&I(x),e.base=A,A&&!r){for(var L=e,D=e;D=D._parentComponent;)(L=D).base=A;A._component=L,A._componentConstructor=L.constructor}}for(!v||n?j.push(e):O||(e.componentDidUpdate&&e.componentDidUpdate(h,p,_),o.afterUpdate&&o.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);w||r||M()}}function I(e){o.beforeUnmount&&o.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?I(n):t&&(null!=t.__preactattr_&&u(t.__preactattr_.ref,null),e.nextBase=t,g(t),P.push(e),C(t)),u(e.__ref,null)}function L(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function D(e,t,n){return S(n,e,{},!1,t,!1)}function F(){return{}}c(L.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=c(c({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),d(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),N(this,2)},render:function(){}});var V={h:s,createElement:s,cloneElement:f,createRef:F,Component:L,render:D,rerender:v,options:o};t.default=V},function(e,t,n){e.exports={EPSILON:n(31),create:n(32),clone:n(78),angle:n(79),fromValues:n(33),copy:n(80),set:n(81),equals:n(82),exactEquals:n(83),add:n(84),subtract:n(34),sub:n(85),multiply:n(35),mul:n(86),divide:n(36),div:n(87),min:n(88),max:n(89),floor:n(90),ceil:n(91),round:n(92),scale:n(93),scaleAndAdd:n(94),distance:n(37),dist:n(95),squaredDistance:n(38),sqrDist:n(96),length:n(20),len:n(97),squaredLength:n(39),sqrLen:n(98),negate:n(99),inverse:n(100),normalize:n(18),dot:n(19),cross:n(40),lerp:n(101),random:n(102),transformMat4:n(103),transformMat3:n(104),transformQuat:n(105),rotateX:n(106),rotateY:n(107),rotateZ:n(108),forEach:n(109)}},function(e,t,n){e.exports={create:n(145),clone:n(146),copy:n(147),identity:n(50),transpose:n(148),invert:n(149),adjoint:n(150),determinant:n(151),multiply:n(152),translate:n(153),scale:n(154),rotate:n(155),rotateX:n(156),rotateY:n(157),rotateZ:n(158),fromRotation:n(159),fromRotationTranslation:n(160),fromScaling:n(161),fromTranslation:n(162),fromXRotation:n(163),fromYRotation:n(164),fromZRotation:n(165),fromQuat:n(166),frustum:n(167),perspective:n(168),perspectiveFromFieldOfView:n(169),ortho:n(170),lookAt:n(171),str:n(172)}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return Te}),n.d(t,"f",function(){return M}),n.d(t,"g",function(){return K}),n.d(t,"e",function(){return $}),n.d(t,"d",function(){return Fe}),n.d(t,"c",function(){return Le}),n.d(t,"h",function(){return Ze}),n.d(t,"b",function(){return ye});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var c="An invariant failed, however the error is obfuscated because this is an production build.",u=[];Object.freeze(u);var l={};function f(){return++ge.mobxGuid}function h(e){throw p(!1,e),"X"}function p(e,t){if(!e)throw new Error("[mobx] "+(t||c))}Object.freeze(l);function d(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var v=function(){};function m(e){return null!==e&&"object"==typeof e}function b(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function g(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function y(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return m(e)&&!0===e[n]}}function O(e){return e instanceof Map}function j(e){return null===e?null:"object"==typeof e?""+e:e}var w=Symbol("mobx administration"),_=function(){function e(e){void 0===e&&(e="Atom@"+f()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.reportObserved=function(){return Se(this)},e.prototype.reportChanged=function(){xe(),function(e){if(e.lowestObserverState===J.STALE)return;e.lowestObserverState=J.STALE,e.observers.forEach(function(t){t.dependenciesState===J.UP_TO_DATE&&(t.isTracing!==te.NONE&&Ae(t,e),t.onBecomeStale()),t.dependenciesState=J.STALE})}(this),Me()},e.prototype.toString=function(){return this.name},e}(),x=y("Atom",_);function M(e,t,n){void 0===t&&(t=v),void 0===n&&(n=v);var r,o=new _(e);return t!==v&&Ue("onBecomeObserved",o,t,r),n!==v&&function(e,t,n){Ue("onBecomeUnobserved",e,t,n)}(o,n),o}var S={identity:function(e,t){return e===t},structural:function(e,t){return St(e,t)},default:function(e,t){return Object.is(e,t)}},A=Symbol("mobx did run lazy initializers"),T=Symbol("mobx pending decorators"),C={},P={};function E(e){if(!0!==e[A]){var t=e[T];if(t)for(var n in g(e,A,!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function R(e,t){return function(){var n,r,o=function(r,o,a,s){if(!0===s)return t(r,o,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,T)){var c=r[T];g(r,T,i({},c))}return r[T][o]={prop:o,propertyCreator:t,descriptor:a,decoratorTarget:r,decoratorArguments:n},function(e,t){var n=t?C:P;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return E(this),this[e]},set:function(t){E(this),this[e]=t}})}(o,e)};return(2===(r=arguments).length||3===r.length)&&"string"==typeof r[1]||4===r.length&&!0===r[3]?(n=u,o.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),o)}}function k(e,t,n){return qe(e)?e:Array.isArray(e)?K.array(e,{name:n}):b(e)?K.object(e,void 0,{name:n}):O(e)?K.map(e,{name:n}):e}function N(e){return e}function I(t){p(t);var n=R(!0,function(e,n,r,o,i){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;bt(e).addObservableProp(n,a,t)}),r=(void 0!==e&&Object({NODE_ENV:"production",DEBUG:!1}),n);return r.enhancer=t,r}var L={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function D(e){return null==e?L:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(L);var F=I(k),V=I(function(e,t,n){return null==e?e:wt(e)||ht(e)||vt(e)?e:Array.isArray(e)?K.array(e,{name:n,deep:!1}):b(e)?K.object(e,void 0,{name:n,deep:!1}):O(e)?K.map(e,{name:n,deep:!1}):h(!1)}),B=I(N),U=I(function(e,t,n){return St(e,t)?t:e});function z(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?N:k}var G={box:function(e,t){arguments.length>2&&H("box");var n=D(t);return new ne(e,z(n),n.name)},array:function(e,t){arguments.length>2&&H("array");var n=D(t);return function(e,t,n,r){void 0===n&&(n="ObservableArray@"+f());void 0===r&&(r=!1);var o=new ct(n,t,r);i=o.values,a=w,s=o,Object.defineProperty(i,a,{enumerable:!1,writable:!1,configurable:!0,value:s});var i,a,s;var c=new Proxy(o.values,st);if(o.proxy=c,e&&e.length){var u=Z(!0);o.spliceWithArray(0,0,e),Q(u)}return c}(e,z(n),n.name)},map:function(e,t){arguments.length>2&&H("map");var n=D(t);return new dt(e,z(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&H("object");var r=D(n);if(!1===r.proxy)return ze({},e,t,r);var o=Ge(r),i=function(e){var t=new Proxy(e,et);return e[w].proxy=t,t}(ze({},void 0,void 0,r));return Ke(i,e,t,o),i},ref:B,shallow:V,deep:F,struct:U},K=function(e,t,n){if("string"==typeof arguments[1])return F.apply(null,arguments);if(qe(e))return e;var r=b(e)?K.object(e,t,n):Array.isArray(e)?K.array(e,t):O(e)?K.map(e,t):e;if(r!==e)return r;h(!1)};function H(e){h("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(G).forEach(function(e){return K[e]=G[e]});var W=R(!1,function(e,t,n,r,o){var a=n.get,s=n.set,c=o[0]||{};bt(e).addComputedProp(e,t,i({get:a,set:s,context:e},c))}),q=W({equals:S.structural}),$=function(e,t,n){if("string"==typeof t)return W.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return W.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new oe(r)};function Y(e,t){var n=function(){return X(e,t,this,arguments)};return n.isMobxAction=!0,n}function X(e,t,n,r){var o=function(e,t,n,r){var o=!1,i=0;var a=he();xe();var s=Z(!0);return{prevDerivation:a,prevAllowStateChanges:s,notifySpy:o,startTime:i}}();try{return t.apply(n,r)}finally{!function(e){Q(e.prevAllowStateChanges),Me(),pe(e.prevDerivation),e.notifySpy,0}(o)}}function Z(e){var t=ge.allowStateChanges;return ge.allowStateChanges=e,t}function Q(e){ge.allowStateChanges=e}$.struct=q;var J,ee,te,ne=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableValue@"+f()),void 0===o&&(o=!0);var i=e.call(this,r)||this;return i.enhancer=n,i.hasUnreportedChange=!1,i.value=n(t,void 0,r),i}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==ge.UNCHANGED){0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(ue(this),tt(this)){var t=rt(this,{object:this,type:"update",newValue:e});if(!t)return ge.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:ge.UNCHANGED},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),ot(this)&&at(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return nt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),it(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return j(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(_),re=y("ObservableValue",ne),oe=function(){function e(e){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+f(),this.value=new ae(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=te.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+f(),e.set&&(this.setter=Y(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?S.structural:S.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==J.UP_TO_DATE)return;e.lowestObserverState=J.POSSIBLY_STALE,e.observers.forEach(function(t){t.dependenciesState===J.UP_TO_DATE&&(t.dependenciesState=J.POSSIBLY_STALE,t.isTracing!==te.NONE&&Ae(t,e),t.onBecomeStale())})}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.get=function(){this.isComputing&&h("Cycle detected in computation "+this.name+": "+this.derivation),0!==ge.inBatch||0!==this.observers.size||this.keepAlive?(Se(this),ce(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===J.STALE)return;e.lowestObserverState=J.STALE,e.observers.forEach(function(t){t.dependenciesState===J.POSSIBLY_STALE?t.dependenciesState=J.STALE:t.dependenciesState===J.UP_TO_DATE&&(e.lowestObserverState=J.UP_TO_DATE)})}(this)):ce(this)&&(this.warnAboutUntrackedRead(),xe(),this.value=this.computeValue(!1),Me());var e=this.value;if(se(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(se(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){p(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else p(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===J.NOT_TRACKING,n=this.computeValue(!0),r=t||se(e)||se(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,ge.computationDepth++,e)t=le(this,this.derivation,this.scope);else if(!0===ge.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new ae(e)}return ge.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(fe(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return Fe(function(){var i=n.get();if(!r||t){var a=he();e({type:"update",object:n,newValue:i,oldValue:o}),pe(a)}r=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return j(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),ie=y("ComputedValue",oe);(ee=J||(J={}))[ee.NOT_TRACKING=-1]="NOT_TRACKING",ee[ee.UP_TO_DATE=0]="UP_TO_DATE",ee[ee.POSSIBLY_STALE=1]="POSSIBLY_STALE",ee[ee.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(te||(te={}));var ae=function(){return function(e){this.cause=e}}();function se(e){return e instanceof ae}function ce(e){switch(e.dependenciesState){case J.UP_TO_DATE:return!1;case J.NOT_TRACKING:case J.STALE:return!0;case J.POSSIBLY_STALE:for(var t=he(),n=e.observing,r=n.length,o=0;o<r;o++){var i=n[o];if(ie(i)){if(ge.disableErrorBoundaries)i.get();else try{i.get()}catch(e){return pe(t),!0}if(e.dependenciesState===J.STALE)return pe(t),!0}}return de(e),pe(t),!1}}function ue(e){var t=e.observers.size>0;ge.computationDepth>0&&t&&h(!1),ge.allowStateChanges||!t&&"strict"!==ge.enforceActions||h(!1)}function le(e,t,n){de(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++ge.runId;var r,o=ge.trackingDerivation;if(ge.trackingDerivation=e,!0===ge.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(e){r=new ae(e)}return ge.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=J.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=o,e.newObserving=null,i=t.length;for(;i--;){var s=t[i];0===s.diffValue&&we(s,e),s.diffValue=0}for(;o--;){var s=n[o];1===s.diffValue&&(s.diffValue=0,je(s,e))}r!==J.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),r}function fe(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)we(t[n],e);e.dependenciesState=J.NOT_TRACKING}function he(){var e=ge.trackingDerivation;return ge.trackingDerivation=null,e}function pe(e){ge.trackingDerivation=e}function de(e){if(e.dependenciesState!==J.UP_TO_DATE){e.dependenciesState=J.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=J.UP_TO_DATE}}var ve=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1}}(),me=!0,be=!1,ge=function(){var e=Oe();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(me=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ve).version&&(me=!1),me?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ve):(setTimeout(function(){be||h("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ve)}();function ye(){return ge}function Oe(){return"undefined"!=typeof window?window:r}function je(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function we(e,t){e.observers.delete(t),0===e.observers.size&&_e(e)}function _e(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,ge.pendingUnobservations.push(e))}function xe(){ge.inBatch++}function Me(){if(0==--ge.inBatch){Ee();for(var e=ge.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof oe&&n.suspend())}ge.pendingUnobservations=[]}}function Se(e){var t=ge.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&ge.inBatch>0&&_e(e),!1)}function Ae(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===te.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name);t.dependencies&&t.dependencies.forEach(function(t){return e(t,n,r+1)})}((r=e,He(_t(r,o))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof oe?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,o}var Te=function(){function e(e,t,n){void 0===e&&(e="Reaction@"+f()),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+f(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=te.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ge.pendingReactions.push(this),Ee())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(xe(),this._isScheduled=!1,ce(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Me()}},e.prototype.track=function(e){xe();this._isRunning=!0;var t=le(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&fe(this),se(t)&&this.reportExceptionInDerivation(t.cause),Me()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(ge.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this;console.error(n,e),ge.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(xe(),fe(this),Me()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[w]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return ge.trackingDerivation;case 1:return _t(e[0]);case 2:return _t(e[0],e[1])}}(e);if(!r)return h(!1);r.isTracing===te.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?te.BREAK:te.LOG}(this,e)},e}();var Ce=100,Pe=function(e){return e()};function Ee(){ge.inBatch>0||ge.isRunningReactions||Pe(Re)}function Re(){ge.isRunningReactions=!0;for(var e=ge.pendingReactions,t=0;e.length>0;){++t===Ce&&(console.error("Reaction doesn't converge to a stable state after "+Ce+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}ge.isRunningReactions=!1}var ke=y("Reaction",Te);function Ne(){h(!1)}function Ie(e){return function(t,n,r){if(r){if(r.value)return{value:Y(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Y(e,o.call(this))}}}return function(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){g(this,n,Le(e,t))}})}}(e).apply(this,arguments)}}var Le=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Y(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Y(e,t):1===arguments.length&&"string"==typeof e?Ie(e):!0!==r?Ie(t).apply(null,arguments):void g(e,t,Y(e.name||t,n.value))};function De(e,t,n){g(e,t,Y(t,n.bind(e)))}function Fe(e,t){void 0===t&&(t=l);var n,r=t&&t.name||e.name||"Autorun@"+f();if(!t.scheduler&&!t.delay)n=new Te(r,function(){this.track(a)},t.onError);else{var o=Be(t),i=!1;n=new Te(r,function(){i||(i=!0,o(function(){i=!1,n.isDisposed||n.track(a)}))},t.onError)}function a(){e(n)}return n.schedule(),n.getDisposer()}Le.bound=function(e,t,n,r){return!0===r?(De(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return De(this,t,n.value||n.initializer.call(this)),this[t]},set:Ne}:{enumerable:!1,configurable:!0,set:function(e){De(this,t,e)},get:function(){}}};var Ve=function(e){return e()};function Be(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ve}function Ue(e,t,n,r){var o="string"==typeof n?_t(t,n):_t(t),i="string"==typeof n?r:n,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?h(!1):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function ze(e,t,n,r){var o=Ge(r=D(r));return E(e),bt(e,r.name,o.enhancer),t&&Ke(e,t,n,o),e}function Ge(e){return e.defaultDecorator||(!1===e.deep?B:F)}function Ke(e,t,n,r){xe();try{for(var o in t){var i=Object.getOwnPropertyDescriptor(t,o);0;var a=(n&&o in n?n[o]:i.get?W:r)(e,o,i,!0);a&&Object.defineProperty(e,o,a)}}finally{Me()}}function He(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n).map(He)),r}function We(e,t){return null!=e&&(void 0!==t?!!wt(e)&&e[w].values.has(t):wt(e)||!!e[w]||x(e)||ke(e)||ie(e))}function qe(e){return 1!==arguments.length&&h(!1),We(e)}function $e(e){return wt(e)?e[w].getKeys():vt(e)?Array.from(e.keys()):ht(e)?e.map(function(e,t){return t}):h(!1)}var Ye={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Xe(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Ze(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Ye),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!qe(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(re(t))return e(t.get(),n,r);if(qe(t)&&$e(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(ht(t)||Array.isArray(t)){var o=Xe(r,t,[],n),i=t.map(function(t){return e(t,n,r)});o.length=i.length;for(var a=0,s=i.length;a<s;a++)o[a]=i[a];return o}if(vt(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var c=Xe(r,t,new Map,n);return t.forEach(function(t,o){c.set(o,e(t,n,r))}),c}var u=Xe(r,t,{},n);return t.forEach(function(t,o){u[o]=e(t,n,r)}),u}var l=Xe(r,t,{},n);for(var f in t)l[f]=e(t[f],n,r);return l}(e,t,n)}function Qe(e,t){void 0===t&&(t=void 0),xe();try{return e.apply(t)}finally{Me()}}function Je(e){return e[w]}var et={has:function(e,t){if(t===w||"constructor"===t||t===A)return!0;var n=Je(e);return"string"==typeof t?n.has(t):t in e},get:function(e,t){if(t===w||"constructor"===t||t===A)return e[t];var n=Je(e),r=n.values.get(t);if(r instanceof _){var o=r.get();return void 0===o&&n.has(t),o}return"string"==typeof t&&n.has(t),e[t]},set:function(e,t,n){return"string"==typeof t&&(function e(t,n,r){if(2!==arguments.length)if(wt(t)){var o=t[w];o.values.get(n)?o.write(n,r):o.addObservableProp(n,r,o.defaultEnhancer)}else if(vt(t))t.set(n,r);else{if(!ht(t))return h(!1);"number"!=typeof n&&(n=parseInt(n,10)),p(n>=0,"Not a valid index: '"+n+"'"),xe(),n>=t.length&&(t.length=n+1),t[n]=r,Me()}else{xe();var i=n;try{for(var a in i)e(t,a,i[a])}finally{Me()}}}(e,t,n),!0)},deleteProperty:function(e,t){return"string"==typeof t&&(Je(e).remove(t),!0)},ownKeys:function(e){return Je(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return h("Dynamic observable objects cannot be frozen"),!1}};function tt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function nt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),d(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function rt(e,t){var n=he();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i&&(p(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{pe(n)}}function ot(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function it(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),d(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function at(e,t){var n=he(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);pe(n)}}var st={get:function(e,t){return t===w?e[w]:"length"===t?e[w].getArrayLength():"number"==typeof t?ut.get.call(e,t):"string"!=typeof t||isNaN(t)?ut.hasOwnProperty(t)?ut[t]:e[t]:ut.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t?(e[w].setArrayLength(n),!0):"number"==typeof t?(ut.set.call(e,t,n),!0):!isNaN(t)&&(ut.set.call(e,parseInt(t),n),!0)},preventExtensions:function(e){return h("Observable arrays cannot be frozen"),!1}};var ct=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new _(e||"ObservableArray@"+f()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return nt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),it(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;ue(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=u),tt(this)){var i=rt(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!i)return u;t=i.removedCount,n=i.added}n=0===n.length?n:n.map(function(e){return r.enhancer(e,void 0)});var a=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,o=ot(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&at(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,o=ot(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&at(this,i)},e}(),ut={intercept:function(e){return this[w].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[w].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[w];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[w];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[w].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[w];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[w].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[w];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[w],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[w];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[w],r=n.values;if(e<r.length){ue(n.atom);var o=r[e];if(tt(n)){var i=rt(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){ut[e]=function(){var t=this[w];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}});var lt,ft=y("ObservableArrayAdministration",ct);function ht(e){return m(e)&&ft(e[w])}var pt={},dt=function(){function e(e,t,n){if(void 0===t&&(t=k),void 0===n&&(n="ObservableMap@"+f()),this.enhancer=t,this.name=n,this[lt]=pt,this._keysAtom=M(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},e.prototype.set=function(e,t){var n=this._has(e);if(tt(this)){var r=rt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(tt(this)&&!(r=rt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=ot(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return Qe(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),n&&at(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);return n?n.setNewValue(t):(n=new ne(t,N,this.name+"."+e+"?",!1),this._hasMap.set(e,n)),n},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==ge.UNCHANGED){var r=ot(this),o=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),r&&at(this,o)}},e.prototype._addValue=function(e,t){var n=this;ue(this._keysAtom),Qe(function(){var r=new ne(t,n.enhancer,n.name+"."+e,!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()});var r=ot(this),o=r?{type:"add",object:this,name:e,newValue:t}:null;r&&at(this,o)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return Pt({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,n=Array.from(this.keys());return Pt({next:function(){if(t<n.length){var r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype[(lt=w,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=a(this),i=o.next();!i.done;i=o.next()){var c=s(i.value,2),u=c[0],l=c[1];e.call(t,l,u,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return vt(e)&&(e=e.toJS()),Qe(function(){b(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=s(e,2),r=n[0],o=n[1];return t.set(r,o)}):O(e)?e.forEach(function(e,n){return t.set(n,e)}):null!=e&&h("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;Qe(function(){!function(e){var t=he();try{e()}finally{pe(t)}}(function(){var t,n;try{for(var r=a(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.replace=function(e){var t=this;return Qe(function(){var n,r=b(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(e){return s(e,1)[0]}):O(n)||vt(n)?Array.from(n.keys()):h("Cannot get keys from '"+n+"'");Array.from(t.keys()).filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=a(this),o=r.next();!o.done;o=r.next()){var i=s(o.value,2),c=i[0],u=i[1];n[""+c]=u}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return it(this,e)},e.prototype.intercept=function(e){return nt(this,e)},e}(),vt=y("ObservableMap",dt),mt=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new _(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof oe)r.set(t);else{if(tt(this)){if(!(i=rt(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=i.newValue}if((t=r.prepareNewValue(t))!==ge.UNCHANGED){var o=ot(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),o&&at(this,i)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new ne(r,N,this.name+"."+e.toString()+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(tt(this)){var o=rt(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new ne(t,n,this.name+"."+e,!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return gt[e]||(gt[e]={configurable:!0,enumerable:!0,get:function(){return this[w].read(e)},set:function(t){this[w].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,o,i,a=this.target;n.name=n.name||this.name+"."+t,this.values.set(t,new oe(n)),(e===a||(r=e,o=t,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(e,t,function(e){return yt[e]||(yt[e]={configurable:!0,enumerable:!1,get:function(){return Ot(this).read(e)},set:function(t){Ot(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(tt(this))if(!(a=rt(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{xe();var n=ot(this),r=this.values.get(e),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!1)}delete this.target[e];var a=n?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;0,n&&at(this,a)}finally{Me()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return it(this,e)},e.prototype.intercept=function(e){return nt(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=ot(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&at(this,r),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=a(this.values),o=r.next();!o.done;o=r.next()){var i=s(o.value,2),c=i[0];i[1]instanceof ne&&n.push(c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function bt(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=k),Object.prototype.hasOwnProperty.call(e,w))return e[w];b(e)||(t=(e.constructor.name||"ObservableObject")+"@"+f()),t||(t="ObservableObject@"+f());var r=new mt(e,new Map,t,n);return g(e,w,r),r}var gt=Object.create(null),yt=Object.create(null);function Ot(e){var t=e[w];return t||(E(e),e[w])}var jt=y("ObservableObjectAdministration",mt);function wt(e){return!!m(e)&&(E(e),jt(e[w]))}function _t(e,t){if("object"==typeof e&&null!==e){if(ht(e))return void 0!==t&&h(!1),e[w].atom;if(vt(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||h(!1),r)}var r;if(E(e),t&&!e[w]&&e[t],wt(e))return t?((r=e[w].values.get(t))||h(!1),r):h(!1);if(x(e)||ie(e)||ke(e))return e}else if("function"==typeof e&&ke(e[w]))return e[w];return h(!1)}function xt(e,t){return e||h("Expecting some object"),void 0!==t?xt(_t(e,t)):x(e)||ie(e)||ke(e)?e:vt(e)?e:(E(e),e[w]?e[w]:void h(!1))}var Mt=Object.prototype.toString;function St(e,t){return At(e,t)}function At(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function(e,t,n,r){e=Tt(e),t=Tt(t);var o=Mt.call(e);if(o!==Mt.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];var c=(n=n||[]).length;for(;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),i){if((c=e.length)!==t.length)return!1;for(;c--;)if(!At(e[c],t[c],n,r))return!1}else{var u,l=Object.keys(e);if(c=l.length,Object.keys(t).length!==c)return!1;for(;c--;)if(u=l[c],!Ct(t,u)||!At(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0}(e,t,n,r)}function Tt(e){return ht(e)?e.slice():O(e)||vt(e)?Array.from(e.entries()):e}function Ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pt(e){return e[Symbol.iterator]=Et,e}function Et(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(e,t){return(void 0!==t?_t(e,t):wt(e)||vt(e)?xt(e):_t(e)).name}},$mobx:w})}).call(this,n(63),n(14))},function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return b}),n.d(t,"b",function(){return w}),n.d(t,"a",function(){return M});var r=n(0),o=n(3);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefix,r=void 0===n?"":n,o=t.suffix,i=void 0===o?"":o;return r+(e.displayName||e.name||e.constructor&&e.constructor.name||"<component>")+i}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},f=!1,h=console;function p(e,t,n,r,i){var a=function(e){var t=Object(o.b)().allowStateChanges;return Object(o.b)().allowStateChanges=e,t}(e),s=void 0;try{s=t(n,r,i)}finally{!function(e){Object(o.b)().allowStateChanges=e}(a)}return s}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e[t],o=m[t],i=r?!0===n?function(){o.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=i}function v(e,t){if(null==e||null==t||"object"!==(void 0===e?"undefined":a(e))||"object"!==(void 0===t?"undefined":a(t)))return e!==t;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(var r=void 0,o=n.length-1;r=n[o];o--)if(t[r]!==e[r])return!0;return!1}var m={componentWillMount:function(){var e=this;if(!0!==f){var t=i(this),n=!1,a=!1;h.call(this,"props"),h.call(this,"state");var s=this.render.bind(this),c=null,u=!1,l=function(e,t,n){u=!1;var r=void 0,o=void 0;if(c.track(function(){try{o=p(!1,s,e,t,n)}catch(e){r=e}}),r)throw r;return o};this.render=function(){return(c=new o.a(t+".render()",function(){if(!u&&(u=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted)){var t=!0;try{a=!0,n||r.Component.prototype.forceUpdate.call(e),t=!1}finally{a=!1,t&&c.dispose()}}})).reactComponent=e,l.$mobx=c,e.render=l,l(e.props,e.state,e.context)}}function h(e){var t=this[e],r=Object(o.f)("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return r.reportObserved(),t},set:function(e){!a&&v(t,e)?(t=e,n=!0,r.reportChanged(),n=!1):t=e}})}},componentWillUnmount:function(){!0!==f&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0)},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(e,t){return f&&h.warn("[mobx-preact] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||v(this.props,e)}};function b(e){var t,n,o;if(arguments.length>1&&h.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),!0===e.isMobxInjector&&h.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!((o=e).prototype&&o.prototype.render||r.Component.isPrototypeOf(o)))return b((n=t=function(t){function n(){return s(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),c(n,[{key:"render",value:function(){return e.call(this,this.props,this.context)}}]),n}(r.Component),t.displayName=i(e),n));if(!e)throw new Error("Please pass a valid component to 'observer'");return function(e){d(e,"componentWillMount",!0),d(e,"componentDidMount"),e.shouldComponentUpdate||(e.shouldComponentUpdate=m.shouldComponentUpdate)}(e.prototype||e),e.isMobXReactObserver=!0,e}b(function(e){return e.children[0]()}).displayName="Observer";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var g,y=(function(e,t){var n,r,o,i,a,s,c,u;e.exports=(n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object),function e(t,l,f){if("string"!=typeof l){if(u){var h=c(l);h&&h!==u&&e(t,h,f)}var p=i(l);a&&(p=p.concat(a(l)));for(var d=0;d<p.length;++d){var v=p[d];if(!(n[v]||r[v]||f&&f[v])){var m=s(l,v);try{o(t,v,m)}catch(e){}}}return t}return t})}(g={exports:{}},g.exports),g.exports),O={isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function j(e,t,n){var o,a,f=i(t,{prefix:"inject-",suffix:n?"-with-"+n:""}),h=(a=o=function(n){function o(){return s(this,o),l(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return u(o,n),c(o,[{key:"render",value:function(){var n={};for(var o in this.props)this.props.hasOwnProperty(o)&&(n[o]=this.props[o]);var i=e(this.context.mobxStores||{},n,this.context)||{};for(var a in i)n[a]=i[a];return Object(r.h)(t,n)}}]),o}(r.Component),o.displayName=f,a);return y(h,t),h.wrappedComponent=t,Object.defineProperties(h,O),h}function w(){var e=void 0;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=j(e,t);return n.isMobxInjector=!1,(n=b(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=function(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}}),n}}(t),function(n){return j(e,n,t.join("-"))}}var _={children:!0,key:!0,ref:!0},x=console,M=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(e){var t=e.children;return t.length>1?Object(r.h)("div",null," ",t," "):t[0]}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var n in t)e[n]=t[n];for(var r in this.props)_[r]||"suppressChangedStoreWarning"===r||(e[r]=this.props[r]);return{mobxStores:e}}},{key:"componentWillReceiveProps",value:function(e){if(Object.keys(e).length!==Object.keys(this.props).length&&x.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var t in e)_[t]||this.props[t]===e[t]||x.warn("MobX Provider: Provided store '"+t+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),t}(r.Component);if(!r.Component)throw new Error("mobx-preact requires Preact to be available")}).call(this,n(14))},function(e,t,n){"use strict";var r=n(13),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){e.exports={add:n(173),calculateW:n(174),clone:n(175),conjugate:n(176),copy:n(177),create:n(178),dot:n(179),fromMat3:n(51),fromValues:n(180),identity:n(181),invert:n(182),length:n(183),lerp:n(184),multiply:n(185),normalize:n(21),rotateX:n(186),rotateY:n(187),rotateZ:n(188),rotationTo:n(189),scale:n(190),set:n(191),setAxes:n(192),setAxisAngle:n(52),slerp:n(53),sqlerp:n(194),squaredLength:n(195)}},function(e,t,n){e.exports={create:n(64),clone:n(22),fromValues:n(23),copy:n(24),set:n(25),add:n(26),subtract:n(65),multiply:n(66),divide:n(67),min:n(68),max:n(69),scale:n(16),scaleAndAdd:n(70),distance:n(71),squaredDistance:n(72),length:n(27),squaredLength:n(28),negate:n(73),inverse:n(74),normalize:n(17),dot:n(29),lerp:n(30),random:n(75),transformMat4:n(76),transformQuat:n(77)}},function(e,t,n){"use strict";(function(e){var r=n(13),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n(15)(e))},function(e,t,n){e.exports={EPSILON:n(41),create:n(42),clone:n(110),fromValues:n(111),copy:n(112),set:n(113),equals:n(114),exactEquals:n(115),add:n(116),subtract:n(43),sub:n(117),multiply:n(44),mul:n(118),divide:n(45),div:n(119),inverse:n(120),min:n(121),max:n(122),rotate:n(123),floor:n(124),ceil:n(125),round:n(126),scale:n(127),scaleAndAdd:n(128),distance:n(46),dist:n(129),squaredDistance:n(47),sqrDist:n(130),length:n(48),len:n(131),squaredLength:n(49),sqrLen:n(132),negate:n(133),normalize:n(134),dot:n(135),cross:n(136),lerp:n(137),random:n(138),transformMat2:n(139),transformMat2d:n(140),transformMat3:n(141),transformMat4:n(142),forEach:n(143),limit:n(144)}},function(e,t,n){"use strict";(function(e){var r=n(5),o=n(60),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||o.a;t.a=c}).call(this,n(15)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z";t.definition={prefix:"fas",iconName:"key",icon:[512,512,r,"f084",o]},t.faKey=t.definition,t.prefix="fas",t.iconName="key",t.width=512,t.height=512,t.ligatures=r,t.unicode="f084",t.svgPathData=o},function(e,t,n){e.exports=function(e){"use strict";!function(){function e(e){this.value=e}function t(t){var n,r;function o(n,r){try{var a=t[n](r),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){o("next",e)},function(e){o("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(i,a){var s={key:e,arg:t,resolve:i,reject:a,next:null};r?r=r.next=s:(n=r=s,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},o=function(o){function a(){return t(this,a),r(this,o.apply(this,arguments))}return n(a,o),a.prototype.componentDidUpdate=function(e){for(var t in e)if(e[t]!==this.props[t])return setTimeout(this.renderLayer)},a.prototype.componentDidMount=function(){this.isMounted=!0,this.renderLayer=this.renderLayer.bind(this),this.renderLayer()},a.prototype.componentWillUnmount=function(){this.renderLayer(!1),this.isMounted=!1,this.remote&&this.remote.parentNode.removeChild(this.remote)},a.prototype.findNode=function(e){return"string"==typeof e?document.querySelector(e):e},a.prototype.renderLayer=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isMounted&&(this.props.into!==this.intoPointer&&(this.intoPointer=this.props.into,this.into&&this.remote&&(this.remote=e.render(e.h(i,null),this.into,this.remote)),this.into=this.findNode(this.props.into)),this.remote=e.render(e.h(i,{context:this.context},t&&this.props.children||null),this.into,this.remote))},a.prototype.render=function(){return null},a}(e.Component),i=function(e){function o(){return t(this,o),r(this,e.apply(this,arguments))}return n(o,e),o.prototype.getChildContext=function(){return this.props.context},o.prototype.render=function(e){var t=e.children;return t&&t[0]||null},o}(e.Component);return o}(n(0))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(14))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a);return e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i);return e}},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}},function(e,t,n){e.exports=n(17)},function(e,t){e.exports=function(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},function(e,t){e.exports=function(e,t,n,r){var o=new Float32Array(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},function(e,t){e.exports=function(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return Math.sqrt(t*t+n*n+r*r+o*o)}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return t*t+n*n+r*r+o*o}},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},function(e,t){e.exports=function(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}},function(e,t){e.exports=1e-6},function(e,t){e.exports=function(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},function(e,t){e.exports=function(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],c=n[2];return e[0]=o*c-i*s,e[1]=i*a-r*c,e[2]=r*s-o*a,e}},function(e,t){e.exports=1e-6},function(e,t){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},function(e,t){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},function(e,t){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},function(e,t){e.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(t[3*o+o]-t[3*i+i]-t[3*a+a]+1),e[o]=.5*n,n=.5/n,e[3]=(t[3*i+a]-t[3*a+i])*n,e[i]=(t[3*i+o]+t[3*o+i])*n,e[a]=(t[3*a+o]+t[3*o+a])*n}return e}},function(e,t){e.exports=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}},function(e,t){e.exports=function(e,t,n,r){var o,i,a,s,c,u=t[0],l=t[1],f=t[2],h=t[3],p=n[0],d=n[1],v=n[2],m=n[3];(i=u*p+l*d+f*v+h*m)<0&&(i=-i,p=-p,d=-d,v=-v,m=-m);1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,c=Math.sin(r*o)/a):(s=1-r,c=r);return e[0]=s*u+c*p,e[1]=s*l+c*d,e[2]=s*f+c*v,e[3]=s*h+c*m,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z";t.definition={prefix:"fas",iconName:"pause",icon:[448,512,r,"f04c",o]},t.faPause=t.definition,t.prefix="fas",t.iconName="pause",t.width=448,t.height=512,t.ligatures=r,t.unicode="f04c",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z";t.definition={prefix:"fas",iconName:"play",icon:[448,512,r,"f04b",o]},t.faPlay=t.definition,t.prefix="fas",t.iconName="play",t.width=448,t.height=512,t.ligatures=r,t.unicode="f04b",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z";t.definition={prefix:"fas",iconName:"arrows-alt-h",icon:[512,512,r,"f337",o]},t.faArrowsAltH=t.definition,t.prefix="fas",t.iconName="arrows-alt-h",t.width=512,t.height=512,t.ligatures=r,t.unicode="f337",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z";t.definition={prefix:"fas",iconName:"arrows-alt",icon:[512,512,r,"f0b2",o]},t.faArrowsAlt=t.definition,t.prefix="fas",t.iconName="arrows-alt",t.width=512,t.height=512,t.ligatures=r,t.unicode="f0b2",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z";t.definition={prefix:"fas",iconName:"undo",icon:[512,512,r,"f0e2",o]},t.faUndo=t.definition,t.prefix="fas",t.iconName="undo",t.width=512,t.height=512,t.ligatures=r,t.unicode="f0e2",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z";t.definition={prefix:"fas",iconName:"cube",icon:[512,512,r,"f1b2",o]},t.faCube=t.definition,t.prefix="fas",t.iconName="cube",t.width=512,t.height=512,t.ligatures=r,t.unicode="f1b2",t.svgPathData=o},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var r=n(5),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(15)(e))},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingManager=class{constructor(){this.urlModifier=void 0,this.onStart=void 0,this.onProgress=void 0,this.onLoad=void 0,this.onError=void 0,this.isLoading=!1,this.itemsLoaded=0,this.itemsTotal=0}itemStart(e){this.itemsTotal++,!this.isLoading&&this.onStart&&this.onStart(e,this.itemsLoaded,this.itemsTotal),this.isLoading=!0}itemEnd(e){this.itemsLoaded++,this.onProgress&&this.onProgress(e,this.itemsLoaded,this.itemsTotal),this.itemsLoaded===this.itemsTotal&&(this.isLoading=!1,this.onLoad&&this.onLoad())}itemError(e){this.onError&&this.onError(e)}resolveURL(e){return this.urlModifier?this.urlModifier(e):e}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),i=n(0);t.GLTF_COMPONENT_TYPE_ARRAYS={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},t.GLTF_ELEMENTS_PER_TYPE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},t.GltfAsset=class{constructor(e,t,n,r=new i.LoadingManager){this.gltf=e,this.glbData=n,this.bufferData=new a(this,t,r),this.imageData=new s(this,t,r)}bufferViewData(e){return r(this,void 0,void 0,function*(){if(!this.gltf.bufferViews)throw new Error("No buffer views found.");const t=this.gltf.bufferViews[e],n=yield this.bufferData.get(t.buffer),r=t.byteLength||0,o=t.byteOffset||0,i=n.buffer,a=n.byteOffset;return new Uint8Array(i,a+o,r)})}accessorData(e){return r(this,void 0,void 0,function*(){if(!this.gltf.accessors)throw new Error("No accessors views found.");const n=this.gltf.accessors[e],r=t.GLTF_ELEMENTS_PER_TYPE[n.type];let o;if(void 0!==n.bufferView)o=yield this.bufferViewData(n.bufferView);else{const e=t.GLTF_COMPONENT_TYPE_ARRAYS[n.componentType].BYTES_PER_ELEMENT*r*n.count;o=new Uint8Array(e)}if(n.sparse){const{count:e,indices:i,values:a}=n.sparse;let s=t.GLTF_COMPONENT_TYPE_ARRAYS[i.componentType],c=yield this.bufferViewData(i.bufferView);const u=new s(c.buffer,c.byteOffset+(i.byteOffset||0),e);s=t.GLTF_COMPONENT_TYPE_ARRAYS[n.componentType],c=yield this.bufferViewData(a.bufferView);const l=new s((yield this.bufferViewData(a.bufferView)).buffer,c.byteOffset+(a.byteOffset||0),e*r);n.bufferView&&(o=new Uint8Array(o));const f=new t.GLTF_COMPONENT_TYPE_ARRAYS[n.componentType](o.buffer);for(let t=0;t<e;t++)for(let e=0;e<r;e++)f[r*u[t]+e]=l[r*t+e]}return o})}preFetchAll(){return r(this,void 0,void 0,function*(){return Promise.all([this.bufferData.preFetchAll(),this.imageData.preFetchAll()])})}};class a{constructor(e,t,n){this.bufferCache=[],this.asset=e,this.baseUri=t,this.manager=n,this.loader=new o.FileLoader(n),this.loader.responseType="arraybuffer"}get(e){return r(this,void 0,void 0,function*(){if(void 0!==this.bufferCache[e])return this.bufferCache[e];const t=this.asset.gltf;if(!t.buffers)throw new Error("No buffers found.");const n=t.buffers[e];if(void 0===n.uri){if(0!==e)throw new Error("GLB container is required to be the first buffer");if(void 0===this.asset.glbData)throw new Error("invalid gltf: buffer has no uri nor is there a GLB buffer");return this.asset.glbData.binaryChunk}const r=c(n.uri,this.baseUri),o=yield this.loader.load(r),i=new Uint8Array(o);return this.bufferCache[e]=i,i})}preFetchAll(){return r(this,void 0,void 0,function*(){const e=this.asset.gltf.buffers;return e?Promise.all(e.map((e,t)=>this.get(t))):[]})}}t.BufferData=a;class s{constructor(e,t,n){this.crossOrigin="anonymous",this.imageCache=[],this.asset=e,this.baseUri=t,this.manager=n}get(e){return r(this,void 0,void 0,function*(){if(void 0!==this.imageCache[e])return this.imageCache[e];const t=this.asset.gltf;if(!t.images)throw new Error("No images found.");const n=t.images[e];let r,o=!1;if(void 0!==n.bufferView){const e=yield this.asset.bufferViewData(n.bufferView);o=!0;const t=new Blob([e],{type:n.mimeType});r=URL.createObjectURL(t)}else{if(void 0===n.uri)throw new Error("Invalid glTF: image must either have a `uri` or a `bufferView`");r=this.manager.resolveURL(c(n.uri,this.baseUri))}const i=new Image;return i.crossOrigin=this.crossOrigin,new Promise((t,n)=>{i.onerror=(()=>{n(`Failed to load ${r}`),this.manager.itemEnd(r),this.manager.itemError(r)}),i.onload=(()=>{o&&URL.revokeObjectURL(r),this.imageCache[e]=i,t(i),this.manager.itemEnd(r)}),i.src=r,this.manager.itemStart(r)})})}preFetchAll(){return r(this,void 0,void 0,function*(){const e=this.asset.gltf.images;return e?Promise.all(e.map((e,t)=>this.get(t))):[]})}}function c(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}t.ImageData=s,t.resolveURL=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderUtils=class{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(const n of e)t+=String.fromCharCode(n);return decodeURIComponent(escape(t))}static extractUrlBase(e){const t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileLoader=class{constructor(e){this.runningRequests={},this.manager=e}load(e,t){if(void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),this.runningRequests[e])return this.runningRequests[e];const n=new Promise((n,r)=>{const o=new XMLHttpRequest;o.open("GET",e,!0);const i=this;o.onload=function(t){const a=this.response;0===this.status?(console.warn("FileLoader: HTTP Status 0 received."),n(a),i.manager.itemEnd(e)):200===this.status?(n(a),i.manager.itemEnd(e)):(r({url:e,status:this.status,statusText:o.statusText}),i.manager.itemEnd(e),i.manager.itemError(e)),delete i.runningRequests[e]},o.onprogress=(e=>{t&&t(e)}),o.onerror=function(t){r({url:e,status:this.status,statusText:o.statusText}),i.manager.itemEnd(e),i.manager.itemError(e),delete i.runningRequests[e]},this.responseType&&(o.responseType=this.responseType),this.withCredentials&&(o.withCredentials=this.withCredentials),this.mimeType&&o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeaders)o.setRequestHeader(e,this.requestHeaders[e]);o.send(null),this.manager.itemStart(e)});return this.runningRequests[e]=n,n}setRequestHeader(e,t){return this.requestHeaders[e]=t,this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.BINARY_HEADER_MAGIC="glTF";const o=1313821514,i=5130562;t.GLTFBinaryData=class{constructor(e){const n=new DataView(e,0,12),a=r.LoaderUtils.decodeText(new Uint8Array(e,0,4)),s=n.getUint32(4,!0);if(n.getUint32(8,!0),a!==t.BINARY_HEADER_MAGIC)throw new Error("Unsupported glTF-Binary header.");if(s<2)throw new Error("Unsupported legacy binary file detected.");const c=new DataView(e,12);let u=0;for(;u<c.byteLength;){const t=c.getUint32(u,!0);u+=4;const n=c.getUint32(u,!0);if(u+=4,n===o){const n=new Uint8Array(e,12+u,t);this.json=r.LoaderUtils.decodeText(n)}else if(n===i){const n=12+u;this.binaryChunk=new Uint8Array(e,n,t)}u+=t}if(null===this.json)throw new Error("glTF-Binary: JSON content not found.")}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),a=n(5),s=n(1),c=n(2),u=n(0),l=n(4);t.gltf=l,o(n(1)),o(n(0)),t.GltfLoader=class{constructor(e){this.manager=e||new u.LoadingManager}load(e,t){return r(this,void 0,void 0,function*(){const n=c.LoaderUtils.extractUrlBase(e),r=new i.FileLoader(this.manager);r.responseType="arraybuffer";const o=yield r.load(e,t);return yield this.parse(o,n)})}loadFromFiles(e){return r(this,void 0,void 0,function*(){let t,n;for(const[r,o]of e)o.name.match(/\.(gltf|glb)$/)&&(t=o,n=r.replace(o.name,""));if(!t)throw new Error("No .gltf or .glb asset found.");const r="string"==typeof t?t:URL.createObjectURL(t),o=c.LoaderUtils.extractUrlBase(r),i=[];this.manager.urlModifier=(t=>{const r=n+t.replace(o,"").replace(/^(\.?\/)/,"");if(e.has(r)){const t=e.get(r),n=URL.createObjectURL(t);return i.push(n),n}return t});const a=yield this.load(r);return yield a.preFetchAll(),URL.revokeObjectURL(r),i.forEach(URL.revokeObjectURL),a})}parse(e,t){return r(this,void 0,void 0,function*(){let n,r=void 0;n="string"==typeof e?e:c.LoaderUtils.decodeText(new Uint8Array(e,0,4))===a.BINARY_HEADER_MAGIC?(r=new a.GLTFBinaryData(e)).json:c.LoaderUtils.decodeText(new Uint8Array(e));const o=JSON.parse(n);if(void 0===o.asset||o.asset.version[0]<2)throw new Error("Unsupported asset. glTF versions >=2.0 are supported.");return new s.GltfAsset(o,t,r,this.manager)})}}},function(e,t,n){e.exports=n(6)}])},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+o*o+i*i)}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+o*o+i*i}},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}},function(e,t){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}},function(e,t,n){var r=n(17),o=n(16);e.exports=function(e,t){return t=t||1,e[0]=Math.random(),e[1]=Math.random(),e[2]=Math.random(),e[3]=Math.random(),r(e,e),o(e,e,t),e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],c=n[2],u=n[3],l=u*r+s*i-c*o,f=u*o+c*r-a*i,h=u*i+a*o-s*r,p=-a*r-s*o-c*i;return e[0]=l*u+p*-a+f*-c-h*-s,e[1]=f*u+p*-s+h*-a-l*-c,e[2]=h*u+p*-c+l*-s-f*-a,e[3]=t[3],e}},function(e,t){e.exports=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(e,t,n){e.exports=function(e,t){var n=r(e[0],e[1],e[2]),a=r(t[0],t[1],t[2]);o(n,n),o(a,a);var s=i(n,a);return s>1?0:Math.acos(s)};var r=n(33),o=n(18),i=n(19)},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}},function(e,t,n){e.exports=function(e,t){var n=e[0],o=e[1],i=e[2],a=t[0],s=t[1],c=t[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=r*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=r*Math.max(1,Math.abs(i),Math.abs(c))};var r=n(31)},function(e,t){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}},function(e,t,n){e.exports=n(34)},function(e,t,n){e.exports=n(35)},function(e,t,n){e.exports=n(36)},function(e,t){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}},function(e,t,n){e.exports=n(37)},function(e,t,n){e.exports=n(38)},function(e,t,n){e.exports=n(20)},function(e,t,n){e.exports=n(39)},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}},function(e,t){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}},function(e,t){e.exports=function(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}},function(e,t){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,o=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=r*t,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],c=n[2],u=n[3],l=u*r+s*i-c*o,f=u*o+c*r-a*i,h=u*i+a*o-s*r,p=-a*r-s*o-c*i;return e[0]=l*u+p*-a+f*-c-h*-s,e[1]=f*u+p*-s+h*-a-l*-c,e[2]=h*u+p*-c+l*-s-f*-a,e}},function(e,t){e.exports=function(e,t,n,r){var o=n[1],i=n[2],a=t[1]-o,s=t[2]-i,c=Math.sin(r),u=Math.cos(r);return e[0]=t[0],e[1]=o+a*u-s*c,e[2]=i+a*c+s*u,e}},function(e,t){e.exports=function(e,t,n,r){var o=n[0],i=n[2],a=t[0]-o,s=t[2]-i,c=Math.sin(r),u=Math.cos(r);return e[0]=o+s*c+a*u,e[1]=t[1],e[2]=i+s*u-a*c,e}},function(e,t){e.exports=function(e,t,n,r){var o=n[0],i=n[1],a=t[0]-o,s=t[1]-i,c=Math.sin(r),u=Math.cos(r);return e[0]=o+a*u-s*c,e[1]=i+a*c+s*u,e[2]=t[2],e}},function(e,t,n){e.exports=function(e,t,n,o,i,a){var s,c;t||(t=3);n||(n=0);c=o?Math.min(o*t+n,e.length):e.length;for(s=n;s<c;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],i(r,r,a),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e};var r=n(32)()},function(e,t){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},function(e,t){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},function(e,t,n){e.exports=function(e,t){var n=e[0],o=e[1],i=t[0],a=t[1];return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-a)<=r*Math.max(1,Math.abs(o),Math.abs(a))};var r=n(41)},function(e,t){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},function(e,t,n){e.exports=n(43)},function(e,t,n){e.exports=n(44)},function(e,t,n){e.exports=n(45)},function(e,t){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},function(e,t){e.exports=function(e,t,n){var r=Math.cos(n),o=Math.sin(n),i=t[0],a=t[1];return e[0]=i*r-a*o,e[1]=i*o+a*r,e}},function(e,t){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},function(e,t,n){e.exports=n(46)},function(e,t,n){e.exports=n(47)},function(e,t,n){e.exports=n(48)},function(e,t,n){e.exports=n(49)},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o);return e}},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},function(e,t){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},function(e,t){e.exports=function(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e}},function(e,t){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e}},function(e,t,n){e.exports=function(e,t,n,o,i,a){var s,c;t||(t=2);n||(n=0);c=o?Math.min(o*t+n,e.length):e.length;for(s=n;s<c;s+=t)r[0]=e[s],r[1]=e[s+1],i(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(42)()},function(e,t){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var o=Math.sqrt(r);e[0]=t[0]/o*n,e[1]=t[1]/o*n}else e[0]=t[0],e[1]=t[1];return e}},function(e,t){e.exports=function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(e,t){e.exports=function(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=t[9],h=t[10],p=t[11],d=t[12],v=t[13],m=t[14],b=t[15],g=n*s-r*a,y=n*c-o*a,O=n*u-i*a,j=r*c-o*s,w=r*u-i*s,_=o*u-i*c,x=l*v-f*d,M=l*m-h*d,S=l*b-p*d,A=f*m-h*v,T=f*b-p*v,C=h*b-p*m,P=g*C-y*T+O*A+j*S-w*M+_*x;if(!P)return null;return P=1/P,e[0]=(s*C-c*T+u*A)*P,e[1]=(o*T-r*C-i*A)*P,e[2]=(v*_-m*w+b*j)*P,e[3]=(h*w-f*_-p*j)*P,e[4]=(c*S-a*C-u*M)*P,e[5]=(n*C-o*S+i*M)*P,e[6]=(m*O-d*_-b*y)*P,e[7]=(l*_-h*O+p*y)*P,e[8]=(a*T-s*S+u*x)*P,e[9]=(r*S-n*T-i*x)*P,e[10]=(d*w-v*O+b*g)*P,e[11]=(f*O-l*w-p*g)*P,e[12]=(s*M-a*A-c*x)*P,e[13]=(n*A-r*M+o*x)*P,e[14]=(v*y-d*j-m*g)*P,e[15]=(l*j-f*y+h*g)*P,e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=t[9],h=t[10],p=t[11],d=t[12],v=t[13],m=t[14],b=t[15];return e[0]=s*(h*b-p*m)-f*(c*b-u*m)+v*(c*p-u*h),e[1]=-(r*(h*b-p*m)-f*(o*b-i*m)+v*(o*p-i*h)),e[2]=r*(c*b-u*m)-s*(o*b-i*m)+v*(o*u-i*c),e[3]=-(r*(c*p-u*h)-s*(o*p-i*h)+f*(o*u-i*c)),e[4]=-(a*(h*b-p*m)-l*(c*b-u*m)+d*(c*p-u*h)),e[5]=n*(h*b-p*m)-l*(o*b-i*m)+d*(o*p-i*h),e[6]=-(n*(c*b-u*m)-a*(o*b-i*m)+d*(o*u-i*c)),e[7]=n*(c*p-u*h)-a*(o*p-i*h)+l*(o*u-i*c),e[8]=a*(f*b-p*v)-l*(s*b-u*v)+d*(s*p-u*f),e[9]=-(n*(f*b-p*v)-l*(r*b-i*v)+d*(r*p-i*f)),e[10]=n*(s*b-u*v)-a*(r*b-i*v)+d*(r*u-i*s),e[11]=-(n*(s*p-u*f)-a*(r*p-i*f)+l*(r*u-i*s)),e[12]=-(a*(f*m-h*v)-l*(s*m-c*v)+d*(s*h-c*f)),e[13]=n*(f*m-h*v)-l*(r*m-o*v)+d*(r*h-o*f),e[14]=-(n*(s*m-c*v)-a*(r*m-o*v)+d*(r*c-o*s)),e[15]=n*(s*h-c*f)-a*(r*h-o*f)+l*(r*c-o*s),e}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],c=e[7],u=e[8],l=e[9],f=e[10],h=e[11],p=e[12],d=e[13],v=e[14],m=e[15];return(t*a-n*i)*(f*m-h*v)-(t*s-r*i)*(l*m-h*d)+(t*c-o*i)*(l*v-f*d)+(n*s-r*a)*(u*m-h*p)-(n*c-o*a)*(u*v-f*p)+(r*c-o*s)*(u*d-l*p)}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],h=t[9],p=t[10],d=t[11],v=t[12],m=t[13],b=t[14],g=t[15],y=n[0],O=n[1],j=n[2],w=n[3];return e[0]=y*r+O*s+j*f+w*v,e[1]=y*o+O*c+j*h+w*m,e[2]=y*i+O*u+j*p+w*b,e[3]=y*a+O*l+j*d+w*g,y=n[4],O=n[5],j=n[6],w=n[7],e[4]=y*r+O*s+j*f+w*v,e[5]=y*o+O*c+j*h+w*m,e[6]=y*i+O*u+j*p+w*b,e[7]=y*a+O*l+j*d+w*g,y=n[8],O=n[9],j=n[10],w=n[11],e[8]=y*r+O*s+j*f+w*v,e[9]=y*o+O*c+j*h+w*m,e[10]=y*i+O*u+j*p+w*b,e[11]=y*a+O*l+j*d+w*g,y=n[12],O=n[13],j=n[14],w=n[15],e[12]=y*r+O*s+j*f+w*v,e[13]=y*o+O*c+j*h+w*m,e[14]=y*i+O*u+j*p+w*b,e[15]=y*a+O*l+j*d+w*g,e}},function(e,t){e.exports=function(e,t,n){var r,o,i,a,s,c,u,l,f,h,p,d,v=n[0],m=n[1],b=n[2];t===e?(e[12]=t[0]*v+t[4]*m+t[8]*b+t[12],e[13]=t[1]*v+t[5]*m+t[9]*b+t[13],e[14]=t[2]*v+t[6]*m+t[10]*b+t[14],e[15]=t[3]*v+t[7]*m+t[11]*b+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],h=t[9],p=t[10],d=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=c,e[6]=u,e[7]=l,e[8]=f,e[9]=h,e[10]=p,e[11]=d,e[12]=r*v+s*m+f*b+t[12],e[13]=o*v+c*m+h*b+t[13],e[14]=i*v+u*m+p*b+t[14],e[15]=a*v+l*m+d*b+t[15]);return e}},function(e,t){e.exports=function(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(e,t){e.exports=function(e,t,n,r){var o,i,a,s,c,u,l,f,h,p,d,v,m,b,g,y,O,j,w,_,x,M,S,A,T=r[0],C=r[1],P=r[2],E=Math.sqrt(T*T+C*C+P*P);if(Math.abs(E)<1e-6)return null;T*=E=1/E,C*=E,P*=E,o=Math.sin(n),i=Math.cos(n),a=1-i,s=t[0],c=t[1],u=t[2],l=t[3],f=t[4],h=t[5],p=t[6],d=t[7],v=t[8],m=t[9],b=t[10],g=t[11],y=T*T*a+i,O=C*T*a+P*o,j=P*T*a-C*o,w=T*C*a-P*o,_=C*C*a+i,x=P*C*a+T*o,M=T*P*a+C*o,S=C*P*a-T*o,A=P*P*a+i,e[0]=s*y+f*O+v*j,e[1]=c*y+h*O+m*j,e[2]=u*y+p*O+b*j,e[3]=l*y+d*O+g*j,e[4]=s*w+f*_+v*x,e[5]=c*w+h*_+m*x,e[6]=u*w+p*_+b*x,e[7]=l*w+d*_+g*x,e[8]=s*M+f*S+v*A,e[9]=c*M+h*S+m*A,e[10]=u*M+p*S+b*A,e[11]=l*M+d*S+g*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e}},function(e,t){e.exports=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],c=t[7],u=t[8],l=t[9],f=t[10],h=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[4]=i*o+u*r,e[5]=a*o+l*r,e[6]=s*o+f*r,e[7]=c*o+h*r,e[8]=u*o-i*r,e[9]=l*o-a*r,e[10]=f*o-s*r,e[11]=h*o-c*r,e}},function(e,t){e.exports=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],c=t[3],u=t[8],l=t[9],f=t[10],h=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=i*o-u*r,e[1]=a*o-l*r,e[2]=s*o-f*r,e[3]=c*o-h*r,e[8]=i*r+u*o,e[9]=a*r+l*o,e[10]=s*r+f*o,e[11]=c*r+h*o,e}},function(e,t){e.exports=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],c=t[3],u=t[4],l=t[5],f=t[6],h=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=i*o+u*r,e[1]=a*o+l*r,e[2]=s*o+f*r,e[3]=c*o+h*r,e[4]=u*o-i*r,e[5]=l*o-a*r,e[6]=f*o-s*r,e[7]=h*o-c*r,e}},function(e,t){e.exports=function(e,t,n){var r,o,i,a=n[0],s=n[1],c=n[2],u=Math.sqrt(a*a+s*s+c*c);if(Math.abs(u)<1e-6)return null;return a*=u=1/u,s*=u,c*=u,r=Math.sin(t),o=Math.cos(t),i=1-o,e[0]=a*a*i+o,e[1]=s*a*i+c*r,e[2]=c*a*i-s*r,e[3]=0,e[4]=a*s*i-c*r,e[5]=s*s*i+o,e[6]=c*s*i+a*r,e[7]=0,e[8]=a*c*i+s*r,e[9]=s*c*i-a*r,e[10]=c*c*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=r+r,c=o+o,u=i+i,l=r*s,f=r*c,h=r*u,p=o*c,d=o*u,v=i*u,m=a*s,b=a*c,g=a*u;return e[0]=1-(p+v),e[1]=f+g,e[2]=h-b,e[3]=0,e[4]=f-g,e[5]=1-(l+v),e[6]=d+m,e[7]=0,e[8]=h+b,e[9]=d-m,e[10]=1-(l+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}},function(e,t){e.exports=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,c=o+o,u=n*a,l=r*a,f=r*s,h=o*a,p=o*s,d=o*c,v=i*a,m=i*s,b=i*c;return e[0]=1-f-d,e[1]=l+b,e[2]=h-m,e[3]=0,e[4]=l-b,e[5]=1-u-d,e[6]=p+v,e[7]=0,e[8]=h+m,e[9]=p-v,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t,n,r,o,i,a){var s=1/(n-t),c=1/(o-r),u=1/(i-a);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*c,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(o+r)*c,e[10]=(a+i)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*u,e[15]=0,e}},function(e,t){e.exports=function(e,t,n,r,o){var i=1/Math.tan(t/2),a=1/(r-o);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*a,e[15]=0,e}},function(e,t){e.exports=function(e,t,n,r){var o=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),c=2/(a+s),u=2/(o+i);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-s)*c*.5,e[9]=(o-i)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}},function(e,t){e.exports=function(e,t,n,r,o,i,a){var s=1/(t-n),c=1/(r-o),u=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*c,e[14]=(a+i)*u,e[15]=1,e}},function(e,t,n){var r=n(50);e.exports=function(e,t,n,o){var i,a,s,c,u,l,f,h,p,d,v=t[0],m=t[1],b=t[2],g=o[0],y=o[1],O=o[2],j=n[0],w=n[1],_=n[2];if(Math.abs(v-j)<1e-6&&Math.abs(m-w)<1e-6&&Math.abs(b-_)<1e-6)return r(e);f=v-j,h=m-w,p=b-_,d=1/Math.sqrt(f*f+h*h+p*p),i=y*(p*=d)-O*(h*=d),a=O*(f*=d)-g*p,s=g*h-y*f,(d=Math.sqrt(i*i+a*a+s*s))?(i*=d=1/d,a*=d,s*=d):(i=0,a=0,s=0);c=h*s-p*a,u=p*i-f*s,l=f*a-h*i,(d=Math.sqrt(c*c+u*u+l*l))?(c*=d=1/d,u*=d,l*=d):(c=0,u=0,l=0);return e[0]=i,e[1]=c,e[2]=f,e[3]=0,e[4]=a,e[5]=u,e[6]=h,e[7]=0,e[8]=s,e[9]=l,e[10]=p,e[11]=0,e[12]=-(i*v+a*m+s*b),e[13]=-(c*v+u*m+l*b),e[14]=-(f*v+h*m+p*b),e[15]=1,e}},function(e,t){e.exports=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},function(e,t,n){e.exports=n(26)},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=t[2];return e[0]=n,e[1]=r,e[2]=o,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),e}},function(e,t,n){e.exports=n(22)},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}},function(e,t,n){e.exports=n(24)},function(e,t){e.exports=function(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}},function(e,t,n){e.exports=n(29)},function(e,t,n){e.exports=n(23)},function(e,t){e.exports=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-o*s,e[3]=i*s,e}},function(e,t,n){e.exports=n(27)},function(e,t,n){e.exports=n(30)},function(e,t){e.exports=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],c=n[1],u=n[2],l=n[3];return e[0]=r*l+a*s+o*u-i*c,e[1]=o*l+a*c+i*s-r*u,e[2]=i*l+a*u+r*c-o*s,e[3]=a*l-r*s-o*c-i*u,e}},function(e,t){e.exports=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*s,e[1]=o*c+i*s,e[2]=i*c-o*s,e[3]=a*c-r*s,e}},function(e,t){e.exports=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c-i*s,e[1]=o*c+a*s,e[2]=i*c+r*s,e[3]=a*c-o*s,e}},function(e,t){e.exports=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*s,e[1]=o*c-r*s,e[2]=i*c+a*s,e[3]=a*c-i*s,e}},function(e,t,n){var r=n(19),o=n(40),i=n(20),a=n(18),s=n(21),c=n(52);e.exports=function(e,t,n){var h=r(t,n);return h<-.999999?(o(u,l,t),i(u)<1e-6&&o(u,f,t),a(u,u),c(e,u,Math.PI),e):h>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(o(u,t,n),e[0]=u[0],e[1]=u[1],e[2]=u[2],e[3]=1+h,s(e,e))};var u=[0,0,0],l=[1,0,0],f=[0,1,0]},function(e,t,n){e.exports=n(16)},function(e,t,n){e.exports=n(25)},function(e,t,n){var r=n(193),o=n(51),i=n(21);e.exports=function(e,t,n,r){return a[0]=n[0],a[3]=n[1],a[6]=n[2],a[1]=r[0],a[4]=r[1],a[7]=r[2],a[2]=-t[0],a[5]=-t[1],a[8]=-t[2],i(e,o(e,a))};var a=r()},function(e,t){e.exports=function(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}},function(e,t,n){var r=n(53);e.exports=function(e,t,n,a,s,c){return r(o,t,s,c),r(i,n,a,c),r(e,o,i,2*c*(1-c)),e};var o=[0,0,0,1],i=[0,0,0,1]},function(e,t,n){e.exports=n(28)},function(e,t,n){e.exports={App:"gW4R",AppFullscreen:"_1KIh",Settings:"_4F1N",Timeline:"J7FP",AppFullscreenAfterTransition:"_3WpE",CanvasWrapper:"_3Z8t",FullscreenBtnWrapper:"_3CVI",FullscreenBtn:"_1e_T",AnimCanvas:"GkEl",ViewportPurplecoat:"_21xT"}},function(e,t,n){e.exports={Alert:"_10l4",AlertSuccess:"_1S6Z",AlertError:"_1fPy",Icon:"_1X0X"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";t.definition={prefix:"fas",iconName:"check",icon:[512,512,r,"f00c",o]},t.faCheck=t.definition,t.prefix="fas",t.iconName="check",t.width=512,t.height=512,t.ligatures=r,t.unicode="f00c",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z";t.definition={prefix:"fas",iconName:"exclamation",icon:[192,512,r,"f12a",o]},t.faExclamation=t.definition,t.prefix="fas",t.iconName="exclamation",t.width=192,t.height=512,t.ligatures=r,t.unicode="f12a",t.svgPathData=o},function(e,t,n){e.exports={AlertContainer:"_3AfP"}},function(e,t,n){e.exports={Button:"_1gbn",Blue:"SD9K",Active:"_1M13",Disabled:"_3gFc",Green:"_3Om8",Red:"_1oV1",Yellow:"kMsq",Beige:"_2VDJ",Brown:"_1hH9"}},function(e,t,n){e.exports={ButtonGroup:"_3W1G"}},function(e,t,n){e.exports={CheckboxInput:"_2WLO",CheckboxLabel:"SRjo",CheckboxChecked:"_173C"}},function(e,t,n){e.exports={Dropdown:"_2_2z",DropdownValue:"_18FK",DropdownOptions:"ePpc",DropdownOptionItem:"_172P"}},function(e,t,n){e.exports={InputWrapper:"_1R2e",HasPrepend:"_1ydR",Input:"_3ggr",HasAppend:"_2SfP",InputDisabled:"_32ad",InputPrepend:"_2ES9",InputAppend:"_3DIQ"}},function(e,t,n){e.exports={ModalOverlay:"_13VR",ModalWrapper:"YT7U",ModalContent:"_3_6S",ModalButtons:"_1F2s",ModalBtn:"_3vKs"}},function(e,t,n){e.exports={PurplecoatWrapper:"_5BvD",PurplecoatInner:"_1btJ",PurplecoatText:"r6J3"}},function(e,t,n){e.exports={Section:"_1dn5",SectionHeader:"TGJP",SectionTitle:"_38j8",SectionBody:"_1UzL",ExpandIcon:"_3GPI"}},function(e,t,n){e.exports={SliderWrapper:"_3BDn",Label:"zidI",SliderPopup:"_2AVB",SliderPopupValue:"_1xw7",active:"_19Ic",SliderInput:"_1vYb"}},function(e,t,n){e.exports={TabsWithBodyWrapper:"_2Xji",TabsWrapper:"_2XU8",Tabs:"_2BfC",Tab:"_1uPa",TabTitle:"_3-Rr",TabActive:"o1NV","anim-tab-name-light-up":"_298H",TabIndicator:"_1Rb9"}},function(e,t,n){e.exports={TooltipWrapper:"_3w1Q",Tooltip:"_1Ape",TooltipTop:"_1PVx",TooltipActive:"_3ldB",TooltipBottom:"ycjN",TooltipRight:"_1moy",TooltipLeft:"Srpw"}},function(e,t,n){e.exports=n.p+"de3481286c4e75f57e1d29f25a7645d9.glb"},function(e,t,n){e.exports=n.p+"fb2ef4011573423a204a782c0a630bd4.glb"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\n#define MAX_WEIGHTS (4) // affecting weights per vertex\n#define MAX_BONE_COUNT (10) // max number of bones in skeleton\n\nattribute vec3 a_Position;\nattribute vec4 a_BoneIDs;\nattribute vec4 a_Weights; // always (1,0,0,0), cause only 1 bone influences ATM\n\nuniform mat4 g_MV;\nuniform mat4 g_MVP;\nuniform mat4 g_BoneTransforms[MAX_BONE_COUNT];\n\nvarying vec3 vPosition;\n\nvoid main() {\n   vec4 localPos = vec4(0.0);\n   // vec4 localNormal = vec4(0.0);\n\n   for (int i = 0; i < MAX_WEIGHTS; i++) {\n     int boneId = int(a_BoneIDs[i]);\n     vec4 skinPos = g_BoneTransforms[boneId] * vec4(a_Position, 1.0);\n     // vec4 worldNormal = g_BoneTransforms[boneId] * vec4(a_Normal, 1.0);\n\n     localPos += skinPos * a_Weights[i];\n     // localNormal += worldNormal * a_Weights[i];\n   }\n\n   vPosition = (g_MV * localPos).xyz;\n   gl_Position = g_MVP * localPos;\n}\n"},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 g_baseColor;\nvarying vec3 vPosition;\n\nfloat dotMax0 (vec3 a, vec3 b) {\n  return max(dot(a, b), 0.0);\n}\n\nconst vec3 COLOR_WHITE = vec3(1.0, 1.0, 1.0);\n\n////////\n// Gamma\n\nconst float GAMMA = 2.2;\n\nvec3 gammaFix (vec3 color, float gamma) {\n  return pow(color, vec3(1.0 / gamma));\n}\n\n////////\n// Light\n\nconst int LIGHT_COUNT = 2;\n\nstruct Light {\n  vec3 position;\n  vec3 color;\n  float intensity;\n} LIGHTS[LIGHT_COUNT];\n\nconst vec3 AMBIENT_LIGHT = vec3(0.1, 0.1, 0.1);\nLight LIGHT_0 = Light(vec3(-10, 10, 10), COLOR_WHITE, 1.0);\nLight LIGHT_1 = Light(vec3( 10, -3, -10), COLOR_WHITE, 1.0);\n\nvoid initLightsArray () {\n  LIGHTS[0] = LIGHT_0;\n  LIGHTS[1] = LIGHT_1;\n}\n\n////////\n// Material & brdf\n\nstruct Material {\n  vec3 albedo;\n  vec3 normal;\n  vec3 worldPosition;\n};\n\nvec3 brdf (Material material, Light light) {\n  vec3 L = normalize(light.position - material.worldPosition);\n  float LdotN = dotMax0(L, material.normal);\n  return material.albedo * LdotN * light.color * light.intensity;\n}\n\nvec3 doShading(Material material) {\n  vec3 result = material.albedo * AMBIENT_LIGHT;\n\n  for (int i = 0; i < LIGHT_COUNT; i++) {\n    result = result + brdf(material, LIGHTS[i]);\n  }\n\n  return result;\n}\n\n////////\n// shader\n\nvec3 getNormal() {\n  vec3 fdx = vec3(dFdx(vPosition.x), dFdx(vPosition.y), dFdx(vPosition.z));\n  vec3 fdy = vec3(dFdy(vPosition.x), dFdy(vPosition.y), dFdy(vPosition.z));\n  return normalize(cross(fdx, fdy));\n}\n\nMaterial createMaterial() {\n  Material material;\n  material.albedo = g_baseColor;\n  material.normal = getNormal();\n  material.worldPosition = vPosition;\n  return material;\n}\n\nvoid main () {\n  initLightsArray();\n\n  Material material = createMaterial();\n  vec3 color = doShading(material);\n  gl_FragColor = vec4(gammaFix(color, GAMMA), 1.0);\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nconst vec2 TOP_LEFT_1540259130  = vec2(-1.0, 1.0);\nconst vec2 TOP_RIGHT_1540259130 = vec2( 1.0, 1.0);\nconst vec2 BOT_LEFT_1540259130  = vec2(-1.0, -1.0);\nconst vec2 BOT_RIGHT_1540259130 = vec2( 1.0, -1.0);\n\n// @param vertexId has to be [0-6]\nvec2 getFullscreenPos (int vertexId) {\n  if (vertexId == 0){ return TOP_LEFT_1540259130; }\n  if (vertexId == 1){ return BOT_LEFT_1540259130; }\n  if (vertexId == 2){ return TOP_RIGHT_1540259130; }\n  if (vertexId == 3){ return TOP_RIGHT_1540259130; }\n  if (vertexId == 4){ return BOT_LEFT_1540259130; }\n  if (vertexId == 5){ return BOT_RIGHT_1540259130; }\n  return TOP_LEFT_1540259130;\n}\n\n// billboards tuorial:\n// http://www.chinedufn.com/webgl-particle-effect-billboard-tutorial/\n\n#define MAX_MARKERS (32)\nconst int VERTICES_PER_MARKER = 6;\n\nattribute float a_VertexId_f;\n#define a_VertexId (int(a_VertexId_f))\n\nuniform mat4 g_VP;\nuniform mat4 g_V;\nuniform vec3 g_MarkerColors[MAX_MARKERS];\nuniform float g_MarkerRadius[MAX_MARKERS];\nuniform vec3 g_MarkerPositions[MAX_MARKERS];\n\nvarying vec3 vColor;\nvarying vec2 vCornerIntercardinal; // coordinates of corners in [-1,1] space\n\nint getFullscreenVertexId () {\n  // (vertexId % VERTICES_PER_MARKER), but we have to operate on floats cause webgl.\n  // We add 0.5 cause maybe rounding errors will happen or smth.\n  return int(mod(a_VertexId_f, float(VERTICES_PER_MARKER)) + 0.5);\n}\n\nstruct Marker {\n  vec3 positionWS;\n  float radius;\n  vec3 color;\n  vec3 billboardRight;\n  vec3 billboardUp;\n};\n\nMarker createMarker() {\n  int markerId = a_VertexId / VERTICES_PER_MARKER;\n\n  Marker marker;\n  marker.positionWS = g_MarkerPositions[markerId];\n  marker.radius = g_MarkerRadius[markerId];\n  marker.color = g_MarkerColors[markerId];\n  marker.billboardRight = vec3(g_V[0].x, g_V[1].x, g_V[2].x);\n  marker.billboardUp = vec3(g_V[0].y, g_V[1].y, g_V[2].y);\n  return marker;\n}\n\nvoid main() {\n  Marker marker = createMarker();\n  // intercardinal directions, see vCornerIntercardinal\n  vec2 deltaSign = getFullscreenPos(getFullscreenVertexId());\n\n  vec3 cornerWS = marker.positionWS;\n  cornerWS += marker.billboardRight * marker.radius * deltaSign.x;\n  cornerWS += marker.billboardUp * marker.radius * deltaSign.y;\n\n  // NOTE: important: leave as is, do not rewrite into vec4(_.xyz, 1.0)\n  gl_Position = g_VP * vec4(cornerWS, 1.0);\n\n  vColor = marker.color;\n  vCornerIntercardinal = deltaSign;\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec3 vColor;\nvarying vec2 vCornerIntercardinal;\n\nvoid main () {\n  float toCenterDist = dot(vCornerIntercardinal, vCornerIntercardinal);\n  if (toCenterDist > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vec4(vColor, 1.0);\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 a_Position;\n\nuniform mat4 g_MVP;\nuniform vec3 g_Color;\n\nvarying vec3 vColor;\n\nvoid main() {\n   vec4 pos = vec4(a_Position * 1.0, 1.0);\n   gl_Position = g_MVP * pos;\n\n   vColor = g_Color;\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec3 vColor;\n\nvoid main () {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 a_Position;\n\nuniform mat4 g_MVP;\n\nvarying vec3 vPos;\n\nvoid main() {\n   gl_Position = g_MVP * vec4(a_Position, 1.0);\n   vPos = a_Position;\n}\n"},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n#define GLSLIFY 1\n\n// based on:\n// http://madebyevan.com/shaders/grid/\n\nuniform float g_gridDensity;\nuniform vec3 g_color;\nvarying vec3 vPos;\n\nvoid main () {\n  // Pick a coordinate to visualize in a grid\n  // divided by 2 cuz coords (-1, 1) etc/\n  vec2 coord = vPos.xz * (g_gridDensity / 2.0);\n\n  // Compute anti-aliased world-space grid lines\n  // shift the grid by (-0.5, -0.5)\n  vec2 a = fract(coord - 0.5) - 0.5;\n  vec2 grid = abs(a) / fwidth(coord);\n  float line = min(grid.x, grid.y);\n\n  // Just visualize the grid lines directly\n  float c = 1.0 - min(line, 1.0);\n  gl_FragColor = vec4(g_color * vec3(c), c);\n}\n"},function(e,t,n){e.exports={Timeline:"_39DC",IsPlayingOverlay:"_1lVB",PauseBtnWrapper:"RLYq",PauseBtn:"oej5"}},function(e,t,n){e.exports={TransformSpacesDropdown:"_5eBF",FrameStatus:"_1Gaa",ButtonSpacing:"CMfV",TimelineButtonRow:"_32ek",GithubButton:"_3QLy",Tooltip:"rHdy"}},function(e){e.exports={width:512,height:512,ligatures:[],unicode:"f2b9",svgPathData:"M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z";t.definition={prefix:"fas",iconName:"angle-left",icon:[256,512,r,"f104",o]},t.faAngleLeft=t.definition,t.prefix="fas",t.iconName="angle-left",t.width=256,t.height=512,t.ligatures=r,t.unicode="f104",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z";t.definition={prefix:"fas",iconName:"stop",icon:[448,512,r,"f04d",o]},t.faStop=t.definition,t.prefix="fas",t.iconName="stop",t.width=448,t.height=512,t.ligatures=r,t.unicode="f04d",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z";t.definition={prefix:"fas",iconName:"angle-right",icon:[256,512,r,"f105",o]},t.faAngleRight=t.definition,t.prefix="fas",t.iconName="angle-right",t.width=256,t.height=512,t.ligatures=r,t.unicode="f105",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z";t.definition={prefix:"fas",iconName:"step-backward",icon:[448,512,r,"f048",o]},t.faStepBackward=t.definition,t.prefix="fas",t.iconName="step-backward",t.width=448,t.height=512,t.ligatures=r,t.unicode="f048",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z";t.definition={prefix:"fas",iconName:"step-forward",icon:[448,512,r,"f051",o]},t.faStepForward=t.definition,t.prefix="fas",t.iconName="step-forward",t.width=448,t.height=512,t.ligatures=r,t.unicode="f051",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z";t.definition={prefix:"fas",iconName:"copy",icon:[448,512,r,"f0c5",o]},t.faCopy=t.definition,t.prefix="fas",t.iconName="copy",t.width=448,t.height=512,t.ligatures=r,t.unicode="f0c5",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z";t.definition={prefix:"fas",iconName:"ban",icon:[512,512,r,"f05e",o]},t.faBan=t.definition,t.prefix="fas",t.iconName="ban",t.width=512,t.height=512,t.ligatures=r,t.unicode="f05e",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z";t.definition={prefix:"fas",iconName:"expand",icon:[448,512,r,"f065",o]},t.faExpand=t.definition,t.prefix="fas",t.iconName="expand",t.width=448,t.height=512,t.ligatures=r,t.unicode="f065",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm80 248c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80z";t.definition={prefix:"fas",iconName:"dot-circle",icon:[512,512,r,"f192",o]},t.faDotCircle=t.definition,t.prefix="fas",t.iconName="dot-circle",t.width=512,t.height=512,t.ligatures=r,t.unicode="f192",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z";t.definition={prefix:"fas",iconName:"question",icon:[384,512,r,"f128",o]},t.faQuestion=t.definition,t.prefix="fas",t.iconName="question",t.width=384,t.height=512,t.ligatures=r,t.unicode="f128",t.svgPathData=o},function(e,t,n){e.exports={TimelineAxis:"eofY",Tick:"_1I3u",TickTime:"_2eNw",TickKeyframe:"i1XW",TickInActiveKeyframe:"_1lPF",TickCurrentFrame:"_3EpP",PreviewRange:"_2440"}},function(e,t,n){e.exports={Settings:"VStK",IsPlaying:"kaS0",SettingsBody:"_32Uq",TabObject:"_2uKb",TabGlobal:"_55Qm",AnimatedTab:"_3fL0"}},function(e,t,n){e.exports={InSectionBtn:"_3Icx",QuatInterpolation:"_2_Dh",QuatInterpolationDropdown:"d7yK"}},function(e,t,n){e.exports={InSectionBtn:"_2j5j"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M569.354 231.631C512.969 135.949 407.81 72 288 72 168.14 72 63.004 135.994 6.646 231.631a47.999 47.999 0 0 0 0 48.739C63.031 376.051 168.19 440 288 440c119.86 0 224.996-63.994 281.354-159.631a47.997 47.997 0 0 0 0-48.738zM288 392c-75.162 0-136-60.827-136-136 0-75.162 60.826-136 136-136 75.162 0 136 60.826 136 136 0 75.162-60.826 136-136 136zm104-136c0 57.438-46.562 104-104 104s-104-46.562-104-104c0-17.708 4.431-34.379 12.236-48.973l-.001.032c0 23.651 19.173 42.823 42.824 42.823s42.824-19.173 42.824-42.823c0-23.651-19.173-42.824-42.824-42.824l-.032.001C253.621 156.431 270.292 152 288 152c57.438 0 104 46.562 104 104z";t.definition={prefix:"fas",iconName:"eye",icon:[576,512,r,"f06e",o]},t.faEye=t.definition,t.prefix="fas",t.iconName="eye",t.width=576,t.height=512,t.ligatures=r,t.unicode="f06e",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z";t.definition={prefix:"fas",iconName:"save",icon:[448,512,r,"f0c7",o]},t.faSave=t.definition,t.prefix="fas",t.iconName="save",t.width=448,t.height=512,t.ligatures=r,t.unicode="f0c7",t.svgPathData=o},function(e,t,n){e.exports={NoObjectSelected:"_1lAi",ObjectName:"_14_Q",KeyframeInfoYes:"y_XZ",KeyframeInfoNo:"_3LJ8",InputAxisX:"_3zPk",InputAxisY:"_2jiR",InputAxisZ:"_3TEt",InputAxisW:"_1duG",QuaternionWarning:"_2psa"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M598.88 244.56c25.2-12.6 41.12-38.36 41.12-66.53v-7.64C640 129.3 606.7 96 565.61 96c-32.02 0-60.44 20.49-70.57 50.86-7.68 23.03-11.6 45.14-38.11 45.14H183.06c-27.38 0-31.58-25.54-38.11-45.14C134.83 116.49 106.4 96 74.39 96 33.3 96 0 129.3 0 170.39v7.64c0 28.17 15.92 53.93 41.12 66.53 9.43 4.71 9.43 18.17 0 22.88C15.92 280.04 0 305.8 0 333.97v7.64C0 382.7 33.3 416 74.38 416c32.02 0 60.44-20.49 70.57-50.86 7.68-23.03 11.6-45.14 38.11-45.14h273.87c27.38 0 31.58 25.54 38.11 45.14C505.17 395.51 533.6 416 565.61 416c41.08 0 74.38-33.3 74.38-74.39v-7.64c0-28.18-15.92-53.93-41.12-66.53-9.42-4.71-9.42-18.17.01-22.88z";t.definition={prefix:"fas",iconName:"bone",icon:[640,512,r,"f5d7",o]},t.faBone=t.definition,t.prefix="fas",t.iconName="bone",t.width=640,t.height=512,t.ligatures=r,t.unicode="f5d7",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm160 215.5v6.93c0 5.87-3.32 11.24-8.57 13.86l-15.39 7.7a15.485 15.485 0 0 1-15.53-.97l-18.21-12.14a15.52 15.52 0 0 0-13.5-1.81l-2.65.88c-9.7 3.23-13.66 14.79-7.99 23.3l13.24 19.86c2.87 4.31 7.71 6.9 12.89 6.9h8.21c8.56 0 15.5 6.94 15.5 15.5v11.34c0 3.35-1.09 6.62-3.1 9.3l-18.74 24.98c-1.42 1.9-2.39 4.1-2.83 6.43l-4.3 22.83c-.62 3.29-2.29 6.29-4.76 8.56a159.608 159.608 0 0 0-25 29.16l-13.03 19.55a27.756 27.756 0 0 1-23.09 12.36c-10.51 0-20.12-5.94-24.82-15.34a78.902 78.902 0 0 1-8.33-35.29V367.5c0-8.56-6.94-15.5-15.5-15.5h-25.88c-14.49 0-28.38-5.76-38.63-16a54.659 54.659 0 0 1-16-38.63v-14.06c0-17.19 8.1-33.38 21.85-43.7l27.58-20.69a54.663 54.663 0 0 1 32.78-10.93h.89c8.48 0 16.85 1.97 24.43 5.77l14.72 7.36c3.68 1.84 7.93 2.14 11.83.84l47.31-15.77c6.33-2.11 10.6-8.03 10.6-14.7 0-8.56-6.94-15.5-15.5-15.5h-10.09c-4.11 0-8.05-1.63-10.96-4.54l-6.92-6.92a15.493 15.493 0 0 0-10.96-4.54H199.5c-8.56 0-15.5-6.94-15.5-15.5v-4.4c0-7.11 4.84-13.31 11.74-15.04l14.45-3.61c3.74-.94 7-3.23 9.14-6.44l8.08-12.11c2.87-4.31 7.71-6.9 12.89-6.9h24.21c8.56 0 15.5-6.94 15.5-15.5v-21.7C359.23 71.63 422.86 131.02 441.93 208H423.5c-8.56 0-15.5 6.94-15.5 15.5z";t.definition={prefix:"fas",iconName:"globe-africa",icon:[496,512,r,"f57c",o]},t.faGlobeAfrica=t.definition,t.prefix="fas",t.iconName="globe-africa",t.width=496,t.height=512,t.ligatures=r,t.unicode="f57c",t.svgPathData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],o="M448.1 344v112c0 13.3-10.7 24-24 24h-112c-21.4 0-32.1-25.9-17-41l36.2-36.2L224 295.6 116.8 402.9 153 439c15.1 15.1 4.4 41-17 41H24c-13.3 0-24-10.7-24-24V344c0-21.4 25.9-32.1 41-17l36.2 36.2L184.5 256 77.2 148.7 41 185c-15.1 15.1-41 4.4-41-17V56c0-13.3 10.7-24 24-24h112c21.4 0 32.1 25.9 17 41l-36.2 36.2L224 216.4l107.3-107.3L295.1 73c-15.1-15.1-4.4-41 17-41h112c13.3 0 24 10.7 24 24v112c0 21.4-25.9 32.1-41 17l-36.2-36.2L263.6 256l107.3 107.3 36.2-36.2c15.1-15.2 41-4.5 41 16.9z";t.definition={prefix:"fas",iconName:"expand-arrows-alt",icon:[448,512,r,"f31e",o]},t.faExpandArrowsAlt=t.definition,t.prefix="fas",t.iconName="expand-arrows-alt",t.width=448,t.height=512,t.ligatures=r,t.unicode="f31e",t.svgPathData=o},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(4),i=Array.isArray,a=n(5),s=a.a.Symbol,c=Object.prototype,u=c.hasOwnProperty,l=c.toString,f=s?s.toStringTag:void 0;var h=function(e){var t=u.call(e,f),n=e[f];try{e[f]=void 0;var r=!0}catch(e){}var o=l.call(e);return r&&(t?e[f]=n:delete e[f]),o},p=Object.prototype.toString;var d=function(e){return p.call(e)},v="[object Null]",m="[object Undefined]",b=s?s.toStringTag:void 0;var g=function(e){return null==e?void 0===e?m:v:b&&b in Object(e)?h(e):d(e)};var y=function(e){return null!=e&&"object"==typeof e},O="[object Symbol]";var j=function(e){return"symbol"==typeof e||y(e)&&g(e)==O},w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;var x=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!j(e))||_.test(e)||!w.test(e)||null!=t&&e in Object(t)};var M=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},S="[object AsyncFunction]",A="[object Function]",T="[object GeneratorFunction]",C="[object Proxy]";var P,E=function(e){if(!M(e))return!1;var t=g(e);return t==A||t==T||t==S||t==C},R=a.a["__core-js_shared__"],k=(P=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";var N=function(e){return!!k&&k in e},I=Function.prototype.toString;var L=function(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""},D=/^\[object .+?Constructor\]$/,F=Function.prototype,V=Object.prototype,B=F.toString,U=V.hasOwnProperty,z=RegExp("^"+B.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var G=function(e){return!(!M(e)||N(e))&&(E(e)?z:D).test(L(e))};var K=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=K(e,t);return G(n)?n:void 0},W=H(Object,"create");var q=function(){this.__data__=W?W(null):{},this.size=0};var $=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y="__lodash_hash_undefined__",X=Object.prototype.hasOwnProperty;var Z=function(e){var t=this.__data__;if(W){var n=t[e];return n===Y?void 0:n}return X.call(t,e)?t[e]:void 0},Q=Object.prototype.hasOwnProperty;var J=function(e){var t=this.__data__;return W?void 0!==t[e]:Q.call(t,e)},ee="__lodash_hash_undefined__";var te=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W&&void 0===t?ee:t,this};function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=q,ne.prototype.delete=$,ne.prototype.get=Z,ne.prototype.has=J,ne.prototype.set=te;var re=ne;var oe=function(){this.__data__=[],this.size=0};var ie=function(e,t){return e===t||e!=e&&t!=t};var ae=function(e,t){for(var n=e.length;n--;)if(ie(e[n][0],t))return n;return-1},se=Array.prototype.splice;var ce=function(e){var t=this.__data__,n=ae(t,e);return!(n<0||(n==t.length-1?t.pop():se.call(t,n,1),--this.size,0))};var ue=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]};var le=function(e){return ae(this.__data__,e)>-1};var fe=function(e,t){var n=this.__data__,r=ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function he(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}he.prototype.clear=oe,he.prototype.delete=ce,he.prototype.get=ue,he.prototype.has=le,he.prototype.set=fe;var pe=he,de=H(a.a,"Map");var ve=function(){this.size=0,this.__data__={hash:new re,map:new(de||pe),string:new re}};var me=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var be=function(e,t){var n=e.__data__;return me(t)?n["string"==typeof t?"string":"hash"]:n.map};var ge=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t};var ye=function(e){return be(this,e).get(e)};var Oe=function(e){return be(this,e).has(e)};var je=function(e,t){var n=be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=ve,we.prototype.delete=ge,we.prototype.get=ye,we.prototype.has=Oe,we.prototype.set=je;var _e=we,xe="Expected a function";function Me(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(xe);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Me.Cache||_e),n}Me.Cache=_e;var Se=Me,Ae=500;var Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/\\(\\)?/g,Pe=function(e){var t=Se(e,function(e){return n.size===Ae&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Te,function(e,n,r,o){t.push(r?o.replace(Ce,"$1"):n||e)}),t});var Ee=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Re=1/0,ke=s?s.prototype:void 0,Ne=ke?ke.toString:void 0;var Ie=function e(t){if("string"==typeof t)return t;if(i(t))return Ee(t,e)+"";if(j(t))return Ne?Ne.call(t):"";var n=t+"";return"0"==n&&1/t==-Re?"-0":n};var Le=function(e){return null==e?"":Ie(e)};var De=function(e,t){return i(e)?e:x(e,t)?[e]:Pe(Le(e))},Fe=1/0;var Ve=function(e){if("string"==typeof e||j(e))return e;var t=e+"";return"0"==t&&1/e==-Fe?"-0":t};var Be=function(e,t){for(var n=0,r=(t=De(t,e)).length;null!=e&&n<r;)e=e[Ve(t[n++])];return n&&n==r?e:void 0};var Ue=function(e,t,n){var r=null==e?void 0:Be(e,t);return void 0===r?n:r};const ze=e=>({width:Ue(e,"clientWidth",0),height:Ue(e,"clientHeight",0)});var Ge=function(e,t){return Ee(t,function(t){return[t,e[t]]})},Ke=H(a.a,"DataView"),He=H(a.a,"Promise"),We=H(a.a,"Set"),qe=H(a.a,"WeakMap"),$e=L(Ke),Ye=L(de),Xe=L(He),Ze=L(We),Qe=L(qe),Je=g;(Ke&&"[object DataView]"!=Je(new Ke(new ArrayBuffer(1)))||de&&"[object Map]"!=Je(new de)||He&&"[object Promise]"!=Je(He.resolve())||We&&"[object Set]"!=Je(new We)||qe&&"[object WeakMap]"!=Je(new qe))&&(Je=function(e){var t=g(e),n="[object Object]"==t?e.constructor:void 0,r=n?L(n):"";if(r)switch(r){case $e:return"[object DataView]";case Ye:return"[object Map]";case Xe:return"[object Promise]";case Ze:return"[object Set]";case Qe:return"[object WeakMap]"}return t});var et=Je;var tt=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n};var nt=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n},rt="[object Map]",ot="[object Set]";var it=function(e){return function(t){var n=et(t);return n==rt?tt(t):n==ot?nt(t):Ge(t,e(t))}};var at=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},st="[object Arguments]";var ct=function(e){return y(e)&&g(e)==st},ut=Object.prototype,lt=ut.hasOwnProperty,ft=ut.propertyIsEnumerable,ht=ct(function(){return arguments}())?ct:function(e){return y(e)&&lt.call(e,"callee")&&!ft.call(e,"callee")},pt=n(10),dt=9007199254740991,vt=/^(?:0|[1-9]\d*)$/;var mt=function(e,t){var n=typeof e;return!!(t=null==t?dt:t)&&("number"==n||"symbol"!=n&&vt.test(e))&&e>-1&&e%1==0&&e<t},bt=9007199254740991;var gt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=bt},yt={};yt["[object Float32Array]"]=yt["[object Float64Array]"]=yt["[object Int8Array]"]=yt["[object Int16Array]"]=yt["[object Int32Array]"]=yt["[object Uint8Array]"]=yt["[object Uint8ClampedArray]"]=yt["[object Uint16Array]"]=yt["[object Uint32Array]"]=!0,yt["[object Arguments]"]=yt["[object Array]"]=yt["[object ArrayBuffer]"]=yt["[object Boolean]"]=yt["[object DataView]"]=yt["[object Date]"]=yt["[object Error]"]=yt["[object Function]"]=yt["[object Map]"]=yt["[object Number]"]=yt["[object Object]"]=yt["[object RegExp]"]=yt["[object Set]"]=yt["[object String]"]=yt["[object WeakMap]"]=!1;var Ot=function(e){return y(e)&&gt(e.length)&&!!yt[g(e)]};var jt=function(e){return function(t){return e(t)}},wt=n(8),_t=wt.a&&wt.a.isTypedArray,xt=_t?jt(_t):Ot,Mt=Object.prototype.hasOwnProperty;var St=function(e,t){var n=i(e),r=!n&&ht(e),o=!n&&!r&&Object(pt.a)(e),a=!n&&!r&&!o&&xt(e),s=n||r||o||a,c=s?at(e.length,String):[],u=c.length;for(var l in e)!t&&!Mt.call(e,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mt(l,u))||c.push(l);return c},At=Object.prototype;var Tt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||At)};var Ct=function(e,t){return function(n){return e(t(n))}},Pt=Ct(Object.keys,Object),Et=Object.prototype.hasOwnProperty;var Rt=function(e){if(!Tt(e))return Pt(e);var t=[];for(var n in Object(e))Et.call(e,n)&&"constructor"!=n&&t.push(n);return t};var kt=function(e){return null!=e&&gt(e.length)&&!E(e)};var Nt=function(e){return kt(e)?St(e):Rt(e)},It=it(Nt);const Lt=(...e)=>{const t=new Set;for(const n of e)if("string"==typeof n&&n.length>0)t.add(n);else if("object"==typeof n&&null!==n)for(const[e,r]of It(n))r&&t.add(e);return[...t].join(" ")},Dt=()=>{const e=t=>{e.current=t};return e};var Ft=n(7),Vt=n(1),Bt=n(9),Ut=n(2);var zt=function(){this.__data__=new pe,this.size=0};var Gt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Kt=function(e){return this.__data__.get(e)};var Ht=function(e){return this.__data__.has(e)},Wt=200;var qt=function(e,t){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!de||r.length<Wt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _e(r)}return n.set(e,t),this.size=n.size,this};function $t(e){var t=this.__data__=new pe(e);this.size=t.size}$t.prototype.clear=zt,$t.prototype.delete=Gt,$t.prototype.get=Kt,$t.prototype.has=Ht,$t.prototype.set=qt;var Yt=$t,Xt="__lodash_hash_undefined__";var Zt=function(e){return this.__data__.set(e,Xt),this};var Qt=function(e){return this.__data__.has(e)};function Jt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _e;++t<n;)this.add(e[t])}Jt.prototype.add=Jt.prototype.push=Zt,Jt.prototype.has=Qt;var en=Jt;var tn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var nn=function(e,t){return e.has(t)},rn=1,on=2;var an=function(e,t,n,r,o,i){var a=n&rn,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var l=-1,f=!0,h=n&on?new en:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var p=e[l],d=t[l];if(r)var v=a?r(d,p,l,t,e,i):r(p,d,l,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!tn(t,function(e,t){if(!nn(h,t)&&(p===e||o(p,e,n,r,i)))return h.push(t)})){f=!1;break}}else if(p!==d&&!o(p,d,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},sn=a.a.Uint8Array;var cn=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},un=1,ln=2,fn="[object Boolean]",hn="[object Date]",pn="[object Error]",dn="[object Map]",vn="[object Number]",mn="[object RegExp]",bn="[object Set]",gn="[object String]",yn="[object Symbol]",On="[object ArrayBuffer]",jn="[object DataView]",wn=s?s.prototype:void 0,_n=wn?wn.valueOf:void 0;var xn=function(e,t,n,r,o,i,a){switch(n){case jn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case On:return!(e.byteLength!=t.byteLength||!i(new sn(e),new sn(t)));case fn:case hn:case vn:return ie(+e,+t);case pn:return e.name==t.name&&e.message==t.message;case mn:case gn:return e==t+"";case dn:var s=tt;case bn:var c=r&un;if(s||(s=cn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=ln,a.set(e,t);var l=an(s(e),s(t),r,o,i,a);return a.delete(e),l;case yn:if(_n)return _n.call(e)==_n.call(t)}return!1};var Mn=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var Sn=function(e,t,n){var r=t(e);return i(e)?r:Mn(r,n(e))};var An=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Tn=function(){return[]},Cn=Object.prototype.propertyIsEnumerable,Pn=Object.getOwnPropertySymbols,En=Pn?function(e){return null==e?[]:(e=Object(e),An(Pn(e),function(t){return Cn.call(e,t)}))}:Tn;var Rn=function(e){return Sn(e,Nt,En)},kn=1,Nn=Object.prototype.hasOwnProperty;var In=function(e,t,n,r,o,i){var a=n&kn,s=Rn(e),c=s.length;if(c!=Rn(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:Nn.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<c;){var d=e[l=s[u]],v=t[l];if(r)var m=a?r(v,d,l,t,e,i):r(d,v,l,e,t,i);if(!(void 0===m?d===v||o(d,v,n,r,i):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var b=e.constructor,g=t.constructor;b!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g)&&(h=!1)}return i.delete(e),i.delete(t),h},Ln=1,Dn="[object Arguments]",Fn="[object Array]",Vn="[object Object]",Bn=Object.prototype.hasOwnProperty;var Un=function(e,t,n,r,o,a){var s=i(e),c=i(t),u=s?Fn:et(e),l=c?Fn:et(t),f=(u=u==Dn?Vn:u)==Vn,h=(l=l==Dn?Vn:l)==Vn,p=u==l;if(p&&Object(pt.a)(e)){if(!Object(pt.a)(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Yt),s||xt(e)?an(e,t,n,r,o,a):xn(e,t,u,n,r,o,a);if(!(n&Ln)){var d=f&&Bn.call(e,"__wrapped__"),v=h&&Bn.call(t,"__wrapped__");if(d||v){var m=d?e.value():e,b=v?t.value():t;return a||(a=new Yt),o(m,b,n,r,a)}}return!!p&&(a||(a=new Yt),In(e,t,n,r,o,a))};var zn=function e(t,n,r,o,i){return t===n||(null==t||null==n||!y(t)&&!y(n)?t!=t&&n!=n:Un(t,n,r,o,e,i))};var Gn=function(e,t){return zn(e,t)};var Kn,Hn,Wn,qn,$n,Yn,Xn,Zn,Qn=window.WebGLRenderingContext;(Hn=Kn||(Kn={}))[Hn.AlwaysFail=Qn.NEVER]="AlwaysFail",Hn[Hn.AlwaysPass=Qn.ALWAYS]="AlwaysPass",Hn[Hn.IfEqual=Qn.EQUAL]="IfEqual",Hn[Hn.IfNotEqual=Qn.NOTEQUAL]="IfNotEqual",Hn[Hn.IfMore=Qn.GREATER]="IfMore",Hn[Hn.IfMoreOrEqual=Qn.GEQUAL]="IfMoreOrEqual",Hn[Hn.IfLess=Qn.LESS]="IfLess",Hn[Hn.IfLessOrEqual=Qn.LEQUAL]="IfLessOrEqual";class Jn{constructor(){this.test=Kn.IfLess,this.write=!0}}(qn=Wn||(Wn={}))[qn.AlwaysPass=Qn.ALWAYS]="AlwaysPass",qn[qn.AlwaysFail=Qn.NEVER]="AlwaysFail",qn[qn.IfRefIsLessThenCurrent=Qn.LESS]="IfRefIsLessThenCurrent",qn[qn.IfRefIsLessOrEqualCurrent=Qn.LEQUAL]="IfRefIsLessOrEqualCurrent",qn[qn.IfRefIsMoreThenCurrent=Qn.GREATER]="IfRefIsMoreThenCurrent",qn[qn.IfRefIsMoreOrEqualCurrent=Qn.GEQUAL]="IfRefIsMoreOrEqualCurrent",qn[qn.IfRefIsEqualCurrent=Qn.EQUAL]="IfRefIsEqualCurrent",qn[qn.IfRefIsNotEqualCurrent=Qn.NOTEQUAL]="IfRefIsNotEqualCurrent",(Yn=$n||($n={}))[Yn.Keep=Qn.KEEP]="Keep",Yn[Yn.Zero=Qn.ZERO]="Zero",Yn[Yn.Replace=Qn.REPLACE]="Replace",Yn[Yn.Increment=Qn.INCR]="Increment",Yn[Yn.IncrementWrap=Qn.INCR_WRAP]="IncrementWrap",Yn[Yn.Decrement=Qn.DECR]="Decrement",Yn[Yn.DecrementWrap=Qn.DECR_WRAP]="DecrementWrap",Yn[Yn.Invert=Qn.INVERT]="Invert";class er{constructor(){this.test=Wn.AlwaysPass,this.opStencilFail=$n.Keep,this.opstencilPassDepthFail=$n.Keep,this.opPass=$n.Keep}}class tr{constructor(){this.referenceValue=0,this.compareMask=4294967295,this.writeBytes=4294967295,this.front=new er,this.back=new er}}(Zn=Xn||(Xn={}))[Zn.None=Qn.NONE]="None",Zn[Zn.CullFront=Qn.FRONT]="CullFront",Zn[Zn.CullBack=Qn.BACK]="CullBack";class nr{constructor(){this.depth=new Jn,this.stencil=new tr,this.dithering=!1,this.culling=Xn.CullBack,this.color_write=[!0,!0,!0,!0]}}const rr=(e,t,n)=>{n?e.enable(t):e.disable(t)},or=e=>{return e.opStencilFail===$n.Keep&&e.opstencilPassDepthFail===$n.Keep&&e.opPass===$n.Keep&&e.test===Wn.AlwaysPass},ir=(e,t,n,r=!1)=>{if(((e,t,n,r)=>{(r||!Gn(t,n))&&(rr(e,e.DEPTH_TEST,t.test!==Kn.AlwaysPass||t.write),e.depthFunc(t.test),e.depthMask(t.write))})(e,t.depth,n?n.depth:void 0,r),((e,t,n,r)=>{if(!r&&Gn(t,n))return;const o=t.front,i=t.back,a=t.referenceValue,s=t.compareMask;rr(e,e.STENCIL_TEST,!or(o)||!or(i)),o.test===i.test?e.stencilFunc(o.test,a,s):(e.stencilFuncSeparate(e.FRONT,o.test,a,s),e.stencilFuncSeparate(e.BACK,i.test,a,s)),e.stencilMask(t.writeBytes),((e,t)=>e.opStencilFail===t.opStencilFail&&e.opstencilPassDepthFail===t.opstencilPassDepthFail&&e.opPass===t.opPass)(o,i)?e.stencilOp(o.opStencilFail,o.opstencilPassDepthFail,o.opPass):(e.stencilOpSeparate(e.FRONT,o.opStencilFail,o.opstencilPassDepthFail,o.opPass),e.stencilOpSeparate(e.BACK,i.opStencilFail,i.opstencilPassDepthFail,i.opPass))})(e,t.stencil,n?n.stencil:void 0,r),(r||t.dithering!==n.dithering)&&rr(e,e.DITHER,t.dithering),(r||t.culling!==n.culling)&&(t.culling===Xn.None?rr(e,e.CULL_FACE,!1):(rr(e,e.CULL_FACE,!0),e.cullFace(t.culling))),r||n.color_write[0]!==t.color_write[0]||n.color_write[1]!==t.color_write[1]||n.color_write[2]!==t.color_write[2]||n.color_write[3]!==t.color_write[3]){const n=t.color_write;e.colorMask(n[0],n[1],n[2],n[3])}},ar=()=>window.WebGLRenderingContext,sr=(e,t)=>{const n=e.parentNode;if(n){let e=ar()?'It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>':'This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>';t&&(e+="<br/><br/>Status: "+t),n.innerHTML=function(e){return'<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+e+"</div></div></td></tr></table>"}(e)}},cr=(e,t)=>{if(e.addEventListener){let t=t=>{sr(e,t.statusMessage)};e.addEventListener("webglcontextcreationerror",t,!1)}const n=((e,t)=>{const n=["webgl","experimental-webgl","webkit-3d","moz-webgl"];let r=null;for(let o of n){try{r=e.getContext(o,t)}catch(e){}if(r)break}return r})(e,t);return n&&n instanceof WebGLRenderingContext||ar()||sr(e),n};var ur,lr;(lr=ur||(ur={}))[lr.VertexShader=Qn.VERTEX_SHADER]="VertexShader",lr[lr.FragmentShader=Qn.FRAGMENT_SHADER]="FragmentShader";const fr=(e,t,n)=>{const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.error(`${ur[t]} compile error:`,e.getShaderInfoLog(r)),void e.deleteShader(r))},hr=(e,t)=>{const n=e.getProgramParameter(t.glId,e.ACTIVE_ATTRIBUTES),r={};for(let o=0;o<n;o++){const n=e.getActiveAttrib(t.glId,o);r[n.name]={size:n.size,name:n.name,type:n.type,location:e.getAttribLocation(t.glId,n.name)}}return r},pr=(e,t)=>{const n=e.getProgramParameter(t.glId,e.ACTIVE_UNIFORMS),r={};for(let o=0;o<n;o++){const n=e.getActiveUniform(t.glId,o),i=n.name.replace("[0]","");r[n.name]={size:n.size,name:n.name,type:n.type,location:e.getUniformLocation(t.glId,i)}}return r},dr=null;class vr{constructor(e,t,n){this.glId=dr,this.attrs={},this.uniforms={},this.glId=e.createProgram();const r=fr(e,ur.VertexShader,t),o=fr(e,ur.FragmentShader,n);r&&o?(e.attachShader(this.glId,r),e.attachShader(this.glId,o),e.linkProgram(this.glId),e.deleteShader(r),e.deleteShader(o),e.getProgramParameter(this.glId,e.LINK_STATUS)?(this.attrs=hr(e,this),this.uniforms=pr(e,this)):this.destroy(e)):this.destroy(e)}isCreated(){return this.glId!==dr}use(e){e.useProgram(this.glId)}destroy(e){e.deleteProgram(this.glId),this.glId=dr}getAttr(e){return this.attrs[e]}getUniform(e){return this.uniforms[e]}}const mr=e=>(t,n,r)=>{t[e](n,r)},br=e=>(t,n,r)=>{t[e](n,!1,r)},gr=(e,t,n,r=!1)=>{Nt(n).forEach(o=>{const i=t.getUniform(o);if(!i){if(r)throw(e=>`Uniform '${e}' was not found, all uniforms `+"for this call of setUniforms have forced validation ON")(o);return}const a=((e,t)=>{switch(t){case e.FLOAT:return mr("uniform1f");case e.FLOAT_VEC2:return mr("uniform2fv");case e.FLOAT_VEC3:return mr("uniform3fv");case e.FLOAT_VEC4:return mr("uniform4fv");case e.INT:return mr("uniform1i");case e.INT_VEC2:return mr("uniform2iv");case e.INT_VEC3:return mr("uniform3iv");case e.INT_VEC4:return mr("uniform4iv");case e.FLOAT_MAT2:return br("uniformMatrix2fv");case e.FLOAT_MAT3:return br("uniformMatrix3fv");case e.FLOAT_MAT4:return br("uniformMatrix4fv")}})(e,i.type);if(!a){if(r)throw((e,t)=>`Uniform '${e}' has not recognised type ${t}, `+"all uniforms for this call of setUniforms have forced validation ON")(o,i.type);return}const s=n[o];a.call(null,e,i.location,s)})};class yr{constructor(e,t,n,r){this.name=e,this.rawData=t,this.stride=n,this.offset=r}}const Or=(e,t,n)=>{const{name:r,rawData:o,offset:i,stride:a}=n;let s=t.getAttr(r);if(!s)return null;const c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW);const[u,l]=((e,t)=>{switch(t){case e.FLOAT:return[e.FLOAT,1];case e.FLOAT_VEC2:return[e.FLOAT,2];case e.FLOAT_VEC3:return[e.FLOAT,3];case e.FLOAT_VEC4:return[e.FLOAT,4];default:throw`Unsupported vertex attribute type: ${t}`}})(e,s.type);return{name:r,glBuffer:c,location:s.location,baseType:u,elCount:l,stride:a,offset:i}};class jr{constructor(e,t,n){this.attrs=[],this.isOk=!1,n.forEach(n=>{let r=Or(e,t,n);r?this.attrs.push(r):console.error(`Vertex attribute ${n.name} not found. `+"This attribute may simply be not used, so it is not critical. Vao may not work as expected")}),this.isOk=n.length===this.attrs.length}isCreated(){return this.isOk}bind(e){this.attrs.forEach(t=>{const{glBuffer:n,location:r,baseType:o,elCount:i,stride:a,offset:s}=t;e.bindBuffer(e.ARRAY_BUFFER,n),e.vertexAttribPointer(r,i,o,!1,a,s),e.enableVertexAttribArray(r)})}destroy(e){this.isOk=!1,this.attrs.forEach(t=>e.deleteBuffer(t.glBuffer))}}var wr;!function(e){e[e.AxisX=0]="AxisX",e[e.AxisY=1]="AxisY",e[e.AxisZ=2]="AxisZ"}(wr||(wr={}));const _r=[wr.AxisX,wr.AxisY,wr.AxisZ],xr=e=>{switch(e){case wr.AxisX:return Object(Vt.fromValues)(1,0,0);case wr.AxisY:return Object(Vt.fromValues)(0,1,0);case wr.AxisZ:return Object(Vt.fromValues)(0,0,1)}};var Mr=s?s.isConcatSpreadable:void 0;var Sr=function(e){return i(e)||ht(e)||!!(Mr&&e&&e[Mr])};var Ar=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=Sr),i||(i=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):Mn(i,c):o||(i[i.length]=c)}return i};var Tr=function(e){return null!=e&&e.length?Ar(e,1):[]};const Cr=(e,t,n)=>Object(Vt.fromValues)(e,t,n),Pr=(e,t,n,r)=>{const{vertices:o,indices:i}=t,a=new Float32Array(3*o.length);o.forEach((e,t)=>{a[3*t+0]=e[0],a[3*t+1]=e[1],a[3*t+2]=e[2]});const s=new jr(e,n,[new yr(r,a,0,0)]),c=new Uint16Array(3*i.length);i.forEach((e,t)=>{c[3*t+0]=e.a,c[3*t+1]=e.b,c[3*t+2]=e.c});const u=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u),e.bufferData(e.ELEMENT_ARRAY_BUFFER,c,e.STATIC_DRAW),{vao:s,indexGlType:e.UNSIGNED_SHORT,indexBuffer:u,triangleCnt:i.length}},Er=(e,t)=>{const n=[];for(let r=0;r<t;r++){const o=r/t*(2*Math.PI),i=Math.sin(o),a=Math.cos(o);n.push(Cr(e*i,0,e*a))}return n},Rr=(e,t,n)=>{const r=[],o=t=>t%e;for(let i=0;i<e;i++)r.push({a:t+i,b:t+o(i+1),c:n+i}),r.push({a:n+o(i+1),b:n+i,c:t+o(i+1)});return r},kr=e=>t=>Cr(t[0],t[1]+e,t[2]);var Nr=n(6);const Ir=()=>({position:Object(Vt.fromValues)(0,0,0),rotation:Object(Nr.create)(),scale:Object(Vt.fromValues)(1,1,1)}),Lr=Ir();Object.freeze(Lr);const Dr=Lr.position,Fr=Lr.rotation,Vr=Lr.scale,Br=e=>{const{position:t,rotation:n}=e;return Yr(t,n,1)},Ur=(e,t)=>{const n=(e,t)=>{for(let n=0;n<t.length;n++)e[n]=t[n]};n(e.position,t.position),n(e.rotation,t.rotation),n(e.scale,t.scale)},zr=e=>{Ur(e,Lr)},Gr=2,Kr=(e=>{return(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||((t,n)=>{e.setTimeout(t,1e3/30)})).bind(e)})(window),Hr=e=>e*Math.PI/180,Wr=(e,t,n)=>{const r=Object(Vt.fromValues)(0,0,0),o=Object(Ft.fromValues)(e[0],e[1],e[2],1),i=Object(Ft.fromValues)(t[0],t[4],t[8],t[12]),a=Object(Ft.fromValues)(t[1],t[5],t[9],t[13]),s=Object(Ft.fromValues)(t[2],t[6],t[10],t[14]),c=Object(Ft.fromValues)(t[3],t[7],t[11],t[15]);let u=n?1:Object(Ft.dot)(o,c);return Math.abs(u)<1e-4&&(u=1e-4),r[0]=Object(Ft.dot)(o,i)/u,r[1]=Object(Ft.dot)(o,a)/u,r[2]=Object(Ft.dot)(o,s)/u,r},qr=(e,t,n)=>Math.min(Math.max(e,t),n),$r=e=>{if("string"==typeof e){const t="#"===e[0]?e.substr(1):e;e=parseInt(t,16)}const t=e>>16&255,n=e>>8&255,r=255&e;return Object(Vt.fromValues)(t/255,n/255,r/255)},Yr=(e,t,n)=>{let r=Object(Ut.create)();if(4===t.length)Object(Ut.fromRotationTranslation)(r,t,e);else{const n=Object(Ut.create)();Object(Ut.fromTranslation)(n,e),Object(Ut.multiply)(r,n,t)}const o=Object(Ut.fromScaling)(Object(Ut.create)(),Object(Vt.fromValues)(n,n,n));return Object(Ut.multiply)(Object(Ut.create)(),r,o)},Xr=(e,t,n)=>{const r=Object(Ut.multiply)(Object(Ut.create)(),n,t);return Object(Ut.multiply)(Object(Ut.create)(),r,e)},Zr=(e,t)=>Object(Ut.multiply)(Object(Ut.create)(),t,e),Qr=(e,t)=>Object(Vt.normalize)(Object(Vt.create)(),Object(Vt.subtract)(Object(Vt.create)(),e,t)),Jr=(e,t=3)=>Number(e).toFixed(t),eo=e=>{e.preventDefault(),e.stopPropagation()},to=n(197);var no;!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Other=2]="Other"}(no||(no={}));const ro=e=>{const{msg:t,type:o,className:i}=e,a=(e=>{const{icon:t,type:r}=e;if(t||!1===t)return t;switch(r){case no.Success:return n(198);case no.Error:return n(199);case no.Other:return null}})(e),s=Lt(to.Alert,{[to.AlertSuccess]:o===no.Success},{[to.AlertError]:o===no.Error},i);return Object(r.h)("div",{className:s},a&&Object(r.h)(Ia,{svg:a,className:to.Icon}),Object(r.h)("span",null,t))};var oo=n(3);class io{constructor(){this.alerts=[]}addAlert(e){this.alerts=[...this.alerts,e]}removeAlert(e){this.alerts=this.alerts.filter(t=>t.key!==e)}}(function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)})([oo.g],io.prototype,"alerts",void 0);const ao=new io,so=(e=>()=>e++)(1),co=e=>{ao.removeAlert(e)},uo=e=>(e.key=e.key||so(),e.timeout=void 0===e.timeout?1e3:e.timeout,ao.addAlert(e),e.timeout&&setTimeout(()=>{co(e.key)},e.timeout),e.key);var lo=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const fo=n(12),ho=n(200);let po=class extends r.Component{render(){return Object(r.h)(fo,{into:"body"},Object(r.h)("div",{className:ho.AlertContainer},ao.alerts.map(e=>Object(r.h)(ro,Object.assign({key:e.key},e)))))}};po=lo([o.c],po);var vo=function(){return a.a.Date.now()},mo=NaN,bo=/^\s+|\s+$/g,go=/^[-+]0x[0-9a-f]+$/i,yo=/^0b[01]+$/i,Oo=/^0o[0-7]+$/i,jo=parseInt;var wo=function(e){if("number"==typeof e)return e;if(j(e))return mo;if(M(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=M(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(bo,"");var n=yo.test(e);return n||Oo.test(e)?jo(e.slice(2),n?2:8):go.test(e)?mo:+e},_o="Expected a function",xo=Math.max,Mo=Math.min;var So=function(e,t,n){var r,o,i,a,s,c,u=0,l=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError(_o);function p(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function d(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-u>=i}function v(){var e=vo();if(d(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-c);return f?Mo(n,i-(e-u)):n}(e))}function m(e){return s=void 0,h&&r?p(e):(r=o=void 0,a)}function b(){var e=vo(),n=d(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(v,t),l?p(e):a}(c);if(f)return s=setTimeout(v,t),p(c)}return void 0===s&&(s=setTimeout(v,t)),a}return t=wo(t)||0,M(n)&&(l=!!n.leading,i=(f="maxWait"in n)?xo(wo(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0},b.flush=function(){return void 0===s?a:m(vo())},b};const Ao=So(uo,10),To=n(201);var Co;!function(e){e[e.Blue=0]="Blue",e[e.Green=1]="Green",e[e.Red=2]="Red",e[e.Yellow=3]="Yellow",e[e.Beige=4]="Beige",e[e.Brown=5]="Brown"}(Co||(Co={}));const Po=e=>!!e.to,Eo=e=>{const{className:t,theme:n,disabled:r,active:o}=e;return Lt(To.Button,t,(e=>{switch(e){case Co.Blue:return To.Blue;case Co.Green:return To.Green;case Co.Red:return To.Red;case Co.Yellow:return To.Yellow;case Co.Brown:return To.Brown;default:case Co.Beige:return To.Beige}})(n),{[To.Disabled]:r},{[To.Active]:o},Po(e)?To.ButtonLink:To.ButtonAction)},Ro=e=>{const{children:t,onClick:n,disabled:o}=e;return Po(e)?(e=>{const{children:t,to:n}=e;return Object(r.h)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:Eo(e)},t)})(e):Object(r.h)("button",{onClick:e=>{eo(e),!o&&n&&n(e)},className:Eo(e)},t)},ko=n(202),No=e=>{const{children:t,className:n}=e,o=Lt(n,ko.ButtonGroup);return Object(r.h)("div",{className:o},t)},Io=n(203),Lo=e=>{const{id:t,className:n,children:o,onChecked:i,value:a}=e,s=Lt(Io.Checkbox,a?Io.CheckboxChecked:Io.CheckboxUnchecked,n);return Object(r.h)("div",{className:s},Object(r.h)("input",{id:t,type:"checkbox",checked:a,className:Io.CheckboxInput}),Object(r.h)("label",{for:t,className:Io.CheckboxLabel,onClick:e=>{eo(e),i&&i(!a)}},o))},Do=n(204),Fo=28;class Vo extends r.Component{constructor(){super(...arguments),this.meRef=Dt(),this.state={isOpen:!1},this.onMouseEnter=(()=>{this.setState({isOpen:!0})}),this.onMouseLeave=(()=>{this.setState({isOpen:!1})}),this.renderOptionItem=(e=>{return Object(r.h)("div",{key:e.name,className:Do.DropdownOptionItem,onClick:t=>this.onNewOptionSelected(e)},e.name)}),this.onNewOptionSelected=(e=>{const{onSelected:t,value:n}=this.props;e.name!==n&&(t(e),this.onMouseLeave())})}componentDidMount(){const e=this.meRef.current;if(!e){const e=this.getCurrentItem();throw`Could not set hover listeners for dropdown with value '${e?e.name:"?"}'`}e.addEventListener("mouseenter",this.onMouseEnter),e.addEventListener("mouseleave",this.onMouseLeave)}componentWillUnmount(){const e=this.meRef.current;e&&(e.removeEventListener("mouseenter",this.onMouseEnter),e.removeEventListener("mouseleave",this.onMouseLeave))}render(){const{options:e}=this.props,{isOpen:t}=this.state,n=this.getCurrentItem(),o={transform:`translateY(${-(n?e.findIndex(e=>e.name===n.name):0)*Fo}px)`};return Object(r.h)("div",{className:this.getClasses(),ref:this.meRef},Object(r.h)("div",{className:Do.DropdownValue},n?n.name:""),t?Object(r.h)("div",{className:Do.DropdownOptions,style:o},e.map(this.renderOptionItem)):null)}getClasses(){const{className:e}=this.props;return Lt(Do.Dropdown,e)}getCurrentItem(){const{options:e,value:t}=this.props,n=e.filter(e=>e.name===t);return void 0!==n[0]?n[0]:e.length>0?e[0]:void 0}}var Bo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Uo=function(){try{var e=H(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var zo=function(e,t,n){"__proto__"==t&&Uo?Uo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Go=Object.prototype.hasOwnProperty;var Ko=function(e,t,n){var r=e[t];Go.call(e,t)&&ie(r,n)&&(void 0!==n||t in e)||zo(e,t,n)};var Ho=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?zo(n,s,c):Ko(n,s,c)}return n};var Wo=function(e,t){return e&&Ho(t,Nt(t),e)};var qo=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},$o=Object.prototype.hasOwnProperty;var Yo=function(e){if(!M(e))return qo(e);var t=Tt(e),n=[];for(var r in e)("constructor"!=r||!t&&$o.call(e,r))&&n.push(r);return n};var Xo=function(e){return kt(e)?St(e,!0):Yo(e)};var Zo=function(e,t){return e&&Ho(t,Xo(t),e)},Qo=n(61);var Jo=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var ei=function(e,t){return Ho(e,En(e),t)},ti=Ct(Object.getPrototypeOf,Object),ni=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Mn(t,En(e)),e=ti(e);return t}:Tn;var ri=function(e,t){return Ho(e,ni(e),t)};var oi=function(e){return Sn(e,Xo,ni)},ii=Object.prototype.hasOwnProperty;var ai=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ii.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var si=function(e){var t=new e.constructor(e.byteLength);return new sn(t).set(new sn(e)),t};var ci=function(e,t){var n=t?si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ui=/\w*$/;var li=function(e){var t=new e.constructor(e.source,ui.exec(e));return t.lastIndex=e.lastIndex,t},fi=s?s.prototype:void 0,hi=fi?fi.valueOf:void 0;var pi=function(e){return hi?Object(hi.call(e)):{}};var di=function(e,t){var n=t?si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},vi="[object Boolean]",mi="[object Date]",bi="[object Map]",gi="[object Number]",yi="[object RegExp]",Oi="[object Set]",ji="[object String]",wi="[object Symbol]",_i="[object ArrayBuffer]",xi="[object DataView]",Mi="[object Float32Array]",Si="[object Float64Array]",Ai="[object Int8Array]",Ti="[object Int16Array]",Ci="[object Int32Array]",Pi="[object Uint8Array]",Ei="[object Uint8ClampedArray]",Ri="[object Uint16Array]",ki="[object Uint32Array]";var Ni=function(e,t,n){var r=e.constructor;switch(t){case _i:return si(e);case vi:case mi:return new r(+e);case xi:return ci(e,n);case Mi:case Si:case Ai:case Ti:case Ci:case Pi:case Ei:case Ri:case ki:return di(e,n);case bi:return new r;case gi:case ji:return new r(e);case yi:return li(e);case Oi:return new r;case wi:return pi(e)}},Ii=Object.create,Li=function(){function e(){}return function(t){if(!M(t))return{};if(Ii)return Ii(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Di=function(e){return"function"!=typeof e.constructor||Tt(e)?{}:Li(ti(e))},Fi="[object Map]";var Vi=function(e){return y(e)&&et(e)==Fi},Bi=wt.a&&wt.a.isMap,Ui=Bi?jt(Bi):Vi,zi="[object Set]";var Gi=function(e){return y(e)&&et(e)==zi},Ki=wt.a&&wt.a.isSet,Hi=Ki?jt(Ki):Gi,Wi=1,qi=2,$i=4,Yi="[object Arguments]",Xi="[object Function]",Zi="[object GeneratorFunction]",Qi="[object Object]",Ji={};Ji[Yi]=Ji["[object Array]"]=Ji["[object ArrayBuffer]"]=Ji["[object DataView]"]=Ji["[object Boolean]"]=Ji["[object Date]"]=Ji["[object Float32Array]"]=Ji["[object Float64Array]"]=Ji["[object Int8Array]"]=Ji["[object Int16Array]"]=Ji["[object Int32Array]"]=Ji["[object Map]"]=Ji["[object Number]"]=Ji[Qi]=Ji["[object RegExp]"]=Ji["[object Set]"]=Ji["[object String]"]=Ji["[object Symbol]"]=Ji["[object Uint8Array]"]=Ji["[object Uint8ClampedArray]"]=Ji["[object Uint16Array]"]=Ji["[object Uint32Array]"]=!0,Ji["[object Error]"]=Ji[Xi]=Ji["[object WeakMap]"]=!1;var ea=function e(t,n,r,o,a,s){var c,u=n&Wi,l=n&qi,f=n&$i;if(r&&(c=a?r(t,o,a,s):r(t)),void 0!==c)return c;if(!M(t))return t;var h=i(t);if(h){if(c=ai(t),!u)return Jo(t,c)}else{var p=et(t),d=p==Xi||p==Zi;if(Object(pt.a)(t))return Object(Qo.a)(t,u);if(p==Qi||p==Yi||d&&!a){if(c=l||d?{}:Di(t),!u)return l?ri(t,Zo(c,t)):ei(t,Wo(c,t))}else{if(!Ji[p])return a?t:{};c=Ni(t,p,u)}}s||(s=new Yt);var v=s.get(t);if(v)return v;if(s.set(t,c),Hi(t))return t.forEach(function(o){c.add(e(o,n,r,o,t,s))}),c;if(Ui(t))return t.forEach(function(o,i){c.set(i,e(o,n,r,i,t,s))}),c;var m=f?l?oi:Rn:l?keysIn:Nt,b=h?void 0:m(t);return Bo(b||t,function(o,i){b&&(o=t[i=o]),Ko(c,i,e(o,n,r,i,t,s))}),c};var ta=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var na=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var ra=function(e,t){return t.length<2?e:Be(e,na(t,0,-1))};var oa=function(e,t){return t=De(t,e),null==(e=ra(e,t))||delete e[Ve(ta(t))]},ia="[object Object]",aa=Function.prototype,sa=Object.prototype,ca=aa.toString,ua=sa.hasOwnProperty,la=ca.call(Object);var fa=function(e){if(!y(e)||g(e)!=ia)return!1;var t=ti(e);if(null===t)return!0;var n=ua.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ca.call(n)==la};var ha=function(e){return fa(e)?void 0:e};var pa=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},da=Math.max;var va=function(e,t,n){return t=da(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=da(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),pa(e,this,s)}};var ma=function(e){return function(){return e}};var ba=function(e){return e},ga=Uo?function(e,t){return Uo(e,"toString",{configurable:!0,enumerable:!1,value:ma(t),writable:!0})}:ba,ya=800,Oa=16,ja=Date.now;var wa=function(e){var t=0,n=0;return function(){var r=ja(),o=Oa-(r-n);if(n=r,o>0){if(++t>=ya)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ga);var _a=function(e){return wa(va(e,void 0,Tr),e+"")},xa=_a(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ee(t,function(t){return t=De(t,e),r||(r=t.length>1),t}),Ho(e,oi(e),n),r&&(n=ea(n,7,ha));for(var o=t.length;o--;)oa(n,t[o]);return n});const Ma=e=>{const{color:t,style:n}=e;return Object.assign({verticalAlign:"middle",color:t},n)},Sa=e=>{const{children:t,size:n,className:o}=e,i=xa(e,"children","color","size","style","className"),a=n||"1em";return Object(r.h)("svg",Object.assign({children:t,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:a,width:a,style:Ma(e),className:o||""},i))};var Aa=function(e,t,n,r){if(!M(e))return e;for(var o=-1,i=(t=De(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var c=Ve(t[o]),u=n;if(o!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=M(l)?l:mt(t[o+1])?[]:{})}Ko(s,c,u),s=s[c]}return e};var Ta=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Be(e,a);n(s,a)&&Aa(i,De(a,e),s)}return i};var Ca=function(e,t){return null!=e&&t in Object(e)};var Pa=function(e,t,n){for(var r=-1,o=(t=De(t,e)).length,a=!1;++r<o;){var s=Ve(t[r]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&gt(o)&&mt(s,o)&&(i(e)||ht(e))};var Ea=function(e,t){return null!=e&&Pa(e,t,Ca)};var Ra=function(e,t){return Ta(e,t,function(t,n){return Ea(e,n)})},ka=_a(function(e,t){return null==e?{}:Ra(e,t)});const Na=e=>{const{width:t,height:n}=e;return`0 0 ${t} ${n}`},Ia=e=>{const{svg:t,className:n}=e,o=ka(e,["color","size","style"]);return Object(r.h)(Sa,Object.assign({viewBox:Na(t),className:n},o),Object(r.h)("g",null,Object(r.h)("path",{d:t.svgPathData})))},La=n(205);var Da;!function(e){e[e.None=0]="None",e[e.NumberDecimal=1]="NumberDecimal",e[e.NumberFloat=2]="NumberFloat"}(Da||(Da={}));const Fa=[null,/^[-\d]$/,/^[-\.\d]$/],Va=e=>{const{value:t,className:n,name:o,prepend:i,append:a,disabled:s,onInput:c,validate:u,rawProps:l}=e,f=Lt(La.InputWrapper,n,{[La.HasPrepend]:i},{[La.HasAppend]:a}),h=Lt(La.Input,{[La.InputDisabled]:s});return Object(r.h)("div",{className:f},i&&Object(r.h)("p",{class:La.InputPrepend},i),Object(r.h)("input",Object.assign({name:o,className:h,type:"text",value:t,disabled:s,onKeyPress:e=>{if(s)return void eo(e);if(!(e=>1===e.key.length)(e))return;const t=Fa[u];t&&!t.test(e.key)&&eo(e)},onKeyUp:e=>{!s&&c&&c(e.target.value,e)}},l||{})),a&&Object(r.h)("p",{class:La.InputAppend},a))},Ba=n(12),Ua=n(206),za=e=>{const{open:t,into:n,children:o,buttons:i}=e;return t?Object(r.h)(Ba,{into:n||"body"},Object(r.h)("div",{className:Ua.ModalOverlay},Object(r.h)("div",{className:Ua.ModalWrapper},Object(r.h)("div",{className:Ua.ModalContent},o,i&&Object(r.h)("div",{className:Ua.ModalButtons},i.map(e=>Object(r.h)(Ro,Object.assign({},e,{className:Ua.ModalBtn})))))))):null};var Ga=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Ka=n(12),Ha=n(207);class Wa{constructor(){this.purplecoatVisible=!1}}Ga([oo.g],Wa.prototype,"purplecoatVisible",void 0);const qa=new Wa,$a=So(e=>{qa.purplecoatVisible=e},10);let Ya=class extends r.Component{constructor(){super(...arguments),this.meRef=Dt(),this.closePurplecoat=(()=>{$a(!1)})}componentDidMount(){this.forceUpdate()}render(){const{children:e,className:t,hidden:n}=this.props,o=this.getTargetEl(),i=qa.purplecoatVisible,a=this.getCoordinates(o),s=Object.assign({},a||{},{display:i&&!n&&a?"block":"none"}),c=Lt(Ha.PurplecoatText,t);return Object(r.h)("div",{ref:this.meRef},Object(r.h)(Ka,{into:"body"},Object(r.h)("div",{className:Ha.PurplecoatWrapper,style:s,onClick:this.closePurplecoat},Object(r.h)("div",{className:Ha.PurplecoatInner},Object(r.h)("div",{className:c},e)))))}getTargetEl(){const{forId:e}=this.props;if(e)return document.getElementById(e);{const e=this.meRef.current;return e?e.parentElement:null}}getCoordinates(e){if(!e)return null;const t=e.getBoundingClientRect();return ka(t,["top","left","width","height"])}};Ya=Ga([o.c],Ya);const Xa=n(208);class Za extends r.Component{constructor(e){super(),this.onHeaderClick=(e=>{this.setState(e=>({isExpanded:!e.isExpanded}))}),this.state={isExpanded:!e.initFolded}}render(){const{title:e,icon:t,children:n}=this.props,{isExpanded:o}=this.state;return Object(r.h)("div",{className:this.getClasses()},Object(r.h)("header",{className:Xa.SectionHeader,onClick:this.onHeaderClick},t&&Object(r.h)(Ia,{svg:t}),Object(r.h)("h6",{className:Xa.SectionTitle},e)),o&&Object(r.h)("div",{className:Xa.SectionBody},n))}getClasses(){const{isExpanded:e}=this.state;return Lt(Xa.Section,e?Xa.SectionExpanded:Xa.SectionCollapsed)}}const Qa=n(209);class Ja extends r.Component{constructor(){super(...arguments),this.wrapperRef=Dt(),this.inputRef=Dt(),this.thumbRef=Dt(),this.thumbValueRef=Dt(),this.state={isDragging:!1},this.onMouseDown=(e=>{this.setState({isDragging:!0}),this.updateThumb()}),this.onMouseUp=(e=>{this.setState({isDragging:!1});const{onSelected:t}=this.props;t&&t(this.getCurrentValue())}),this.onMouseMove=(e=>{const{onChange:t}=this.props,{isDragging:n}=this.state;n&&(this.updateThumb(),t&&t(this.getCurrentValue()))})}componentDidMount(){const e=this.wrapperRef.current;e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mouseout",this.onMouseUp),this.updateThumb()}render(){const{name:e,label:t,min:n,max:o,value:i}=this.props,{isDragging:a}=this.state,s=Lt(Qa.SliderPopup,{[Qa.active]:a});return Object(r.h)("div",{className:this.getClasses()},Object(r.h)("label",{for:e,className:Qa.Label},t),Object(r.h)("div",{ref:this.wrapperRef},Object(r.h)("input",{id:e,type:"range",min:n,max:o,value:i,ref:this.inputRef,className:Qa.SliderInput}),Object(r.h)("span",{className:s,ref:this.thumbRef},Object(r.h)("span",{className:Qa.SliderPopupValue,ref:this.thumbValueRef},this.getCurrentValue()))))}getClasses(){const{className:e}=this.props;return Lt(Qa.SliderWrapper,e)}updateThumb(){const e=this.thumbValueRef.current,t=this.getCurrentValue();e.textContent=t,this.thumbRef.current.style.left=`${this.getThumbOffsetLeft()}px`}getBoundingRect(){const e=this.wrapperRef.current;return e?e.getBoundingClientRect():null}getThumbOffsetLeft(){const{min:e,max:t}=this.props,n=this.getCurrentValue(),r=this.getBoundingRect();if(!r)return 0;const o=(n-e)/(t-e),i=r.width-20;return qr(o*i,0,i)}getCurrentValue(){const e=this.inputRef.current;return e?e.value:0}}const es=n(210),ts=e=>{const t=100/e;return(Math.floor(1e3*t)-1)/1e3};class ns extends r.Component{constructor(){super(...arguments),this.renderTab=((e,t)=>{const{tabs:n}=this.props,{name:o,icon:i}=e,a={width:`${ts(n.length)}%`},s=Lt(es.Tab,o===t?es.TabActive:es.TabInactive,{[es.TabWithIcon]:!!i});return Object(r.h)("li",{className:s,style:a,onClick:this.setTab.bind(this,o)},i&&Object(r.h)(Ia,{svg:i}),Object(r.h)("h4",{className:es.TabTitle},o))}),this.setTab=(e=>{this.getCurrentTab()!==e&&this.setState({currentTab:e})})}render(){const{tabs:e,children:t}=this.props,n=t[0],o=this.getCurrentTab(),i=this.getIndicatorStyle(o);return Object(r.h)("div",{className:this.getClasses()},Object(r.h)("div",{className:es.TabsWrapper},Object(r.h)("ul",{className:es.Tabs},e.map(e=>this.renderTab(e,o))),i&&Object(r.h)("div",{className:es.TabIndicator,style:i})),n(o))}getClasses(){const{className:e}=this.props;return Lt(es.TabsWithBodyWrapper,e)}getIndicatorStyle(e){const{tabs:t}=this.props,n=t.findIndex(t=>t.name===e);if(n<0)return;const r=ts(t.length);return{left:`${n*r}%`,width:`${r}%`}}getCurrentTab(){const{tabs:e}=this.props,{currentTab:t}=this.state;return e.find(e=>e.name===t)?t:e.length>0?e[0].name:void 0}}const rs=n(12),os=n(211),is="#tooltip-container";var as;!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right"}(as||(as={}));class ss extends r.Component{constructor(){super(...arguments),this.meRef=Dt(),this.state={isVisible:!1},this.onMouseEnter=(()=>{this.setState({isVisible:!0})}),this.onMouseLeave=(()=>{this.setState({isVisible:!1})})}componentDidMount(){const e=this.getTargetEl();if(!e)throw`Could not find target for tooltip with text: '${this.props.text}'`;e.addEventListener("mouseenter",this.onMouseEnter),e.addEventListener("mouseleave",this.onMouseLeave),this.forceUpdate()}componentWillUnmount(){const e=this.getTargetEl();e&&(e.removeEventListener("mouseenter",this.onMouseEnter),e.removeEventListener("mouseleave",this.onMouseLeave))}render(){const{text:e}=this.props,t=this.getTargetEl();return Object(r.h)("div",{ref:this.meRef,className:os.TooltipWrapper},Object(r.h)(rs,{into:is},Object(r.h)("span",{className:this.getClasses(t),style:this.getCoordinates(t)},e)))}getClasses(e){const{className:t,position:n,swapDirection:r}=this.props;return Lt(os.Tooltip,t,this.isShowTooltip(e)?os.TooltipActive:os.TooltipInactive,{[os.TooltipBottom]:n===as.Bottom},{[os.TooltipLeft]:n===as.Left},{[os.TooltipRight]:n===as.Right},{[os.TooltipTop]:n===as.Top||!n},r?os.TooltipSwapDir:os.TooltipNormDir)}isShowTooltip(e){const{text:t}=this.props,{isVisible:n}=this.state;return e&&n&&t&&t.length>0}getTargetEl(){const e=this.meRef.current;return e?e.nextElementSibling:null}getCoordinates(e){if(!e)return{display:"none"};const{position:t,swapDirection:n}=this.props,r=e.getBoundingClientRect(),o=document.body.clientWidth-r.right,i=n?{right:o}:{left:r.left};switch(t){case as.Bottom:return Object.assign({top:r.top+r.height},i);case as.Left:return{top:r.top,right:o+r.width};case as.Right:return{top:r.top,left:r.right};case as.Top:default:return Object.assign({top:r.top-r.height},i)}}}const cs=$r("#7a3ab9"),us=$r("#935ac6"),ls=$r("#b93a46"),fs=$r("#4fee55"),hs=e=>{switch(e){case"small":return.05;case"tiny":return.02;default:return.1}};var ps;!function(e){e[e.Bone=0]="Bone",e[e.Gizmo=1]="Gizmo",e[e.Debug=2]="Debug"}(ps||(ps={}));const ds=[ps.Bone,ps.Gizmo,ps.Debug];class vs{constructor(e,t){this.type=e,this.visible=!0,this.clickable=Ue(t,"clickable",!0),this.owner=Ue(t,"owner",void 0),this._color=Ue(t,"color",void 0),this._radius=hs(Ue(t,"radius")),this.$_framePosition={position3d:Object(Vt.create)()}}getRadius(e){const t=this.isScalable()?e/10:1;return this._radius?this._radius*t:hs()*t}set radius(e){this._radius=e}isScalable(){return this.type===ps.Bone}getColor(e=!1){if(this._color)return this._color;switch(this.type){case ps.Bone:return e?us:cs;case ps.Gizmo:return ls;case ps.Debug:default:return fs}}get name(){switch(this.type){case ps.Bone:return this.owner.name;case ps.Gizmo:return`Axis_${this.owner}`;case ps.Debug:return"Debug_?";default:throw`Invalid marker type '${this.type}' provided for Marker.name`}}set $position3d(e){Object(Vt.copy)(this.$_framePosition.position3d,e)}get $position3d(){return this.$_framePosition.position3d}}const ms=(e,t,n)=>{const{glState:{gl:r},scene:{markerMeta:o,camera:i},selectedMarker:a}=e,{shader:s}=o;gr(r,s,{g_VP:e.scene.getVP(),g_V:i.getViewMatrix()},!0);t.forEach((e,t)=>{const o=`g_MarkerPositions[${t}]`;r.uniform3fv(r.getUniformLocation(s.glId,o),e.$position3d);const i=`g_MarkerColors[${t}]`,c=e.getColor((e=>a&&e.name===a.name)(e));r.uniform3fv(r.getUniformLocation(s.glId,i),c);const u=`g_MarkerRadius[${t}]`,l=e.getRadius(n);r.uniform1fv(r.getUniformLocation(s.glId,u),[l])})},bs=(e,t,n)=>{const{glState:{gl:r},scene:o}=e,{shader:i,instancingVAO:a}=o.markerMeta,s=((e,t)=>e.filter(e=>{const n=e.type!==ps.Debug||t;return e.visible&&n}))(o.getMarkers(),n),c=6*s.length,u=new nr;u.depth.write=!1,u.depth.test=Kn.AlwaysPass,u.culling=Xn.None,e.glState.setDrawState(u),i.use(r),ms(e,s,t),a.bind(r),r.drawArrays(r.TRIANGLES,0,c)},gs=(e,t)=>{const{viewProjMat:n}=e,{width:r,height:o}=e.viewport;let i=Object(Bt.fromValues)(t[0]/r,t[1]/o);i[0]=2*i[0]-1,i[1]=2*(1-i[1])-1;const a=Object(Ut.invert)(Object(Ut.create)(),n),s=Object(Vt.fromValues)(i[0],i[1],0),c=Object(Vt.fromValues)(i[0],i[1],1),u=Wr(s,a,!1),l=Wr(c,a,!1);return{origin:u,dir:Qr(l,u)}},ys=(e,t)=>{const n=Object(Vt.scale)(Object(Vt.create)(),e.dir,t);return Object(Vt.add)(Object(Vt.create)(),e.origin,n)},Os=(e,t)=>{const n=Object(Vt.subtract)(Object(Vt.create)(),e,t.origin),r=Object(Vt.dot)(n,t.dir),o=Object(Vt.scale)(Object(Vt.create)(),t.dir,r);return Object(Vt.add)(Object(Vt.create)(),t.origin,o)},js=(e,t)=>((e,t)=>{const n=Os(e,t);return Object(Vt.distance)(e,n)})(t.origin,e)<=t.radius,ws=(e,t)=>{const n=((e,t)=>{return-(e.d+Object(Vt.dot)(t.origin,e.normal))/Object(Vt.dot)(t.dir,e.normal)})(e,t);return ys(t,n)},_s=(e,t)=>-Object(Vt.dot)(e,t),xs=(e,t,n)=>{const r=t.getMarkers(),{markerSize:o}=sl.getFromUI(Xu("markerSize")),i=gs({viewport:{width:e[0],height:e[1]},viewProjMat:t.getVP()},n),a=r.filter(e=>!!e.clickable&&js(i,{origin:e.$position3d,radius:e.getRadius(o)})),s=(e=>(t,n)=>t.type===n.type?Object(Vt.squaredDistance)(n.$position3d,e)<Object(Vt.squaredDistance)(t.$position3d,e):ds.indexOf(n.type)<ds.indexOf(t.type))(t.camera.getPosition());return a.reduce((e,t)=>s(e,t)?t:e,a[0])};var Ms=1,Ss=2;var As=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var f=new Yt;if(r)var h=r(u,l,c,e,t,f);if(!(void 0===h?zn(l,u,Ms|Ss,r,f):h))return!1}}return!0};var Ts=function(e){return e==e&&!M(e)};var Cs=function(e){for(var t=Nt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ts(o)]}return t};var Ps=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}};var Es=function(e){var t=Cs(e);return 1==t.length&&t[0][2]?Ps(t[0][0],t[0][1]):function(n){return n===e||As(n,e,t)}},Rs=1,ks=2;var Ns=function(e,t){return x(e)&&Ts(t)?Ps(Ve(e),t):function(n){var r=Ue(n,e);return void 0===r&&r===t?Ea(n,e):zn(t,r,Rs|ks)}};var Is=function(e){return function(t){return null==t?void 0:t[e]}};var Ls=function(e){return function(t){return Be(t,e)}};var Ds=function(e){return x(e)?Is(Ve(e)):Ls(e)};var Fs=function(e){return"function"==typeof e?e:null==e?ba:"object"==typeof e?i(e)?Ns(e[0],e[1]):Es(e):Ds(e)};var Vs=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}();var Bs=function(e,t){return function(n,r){if(null==n)return n;if(!kt(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(function(e,t){return e&&Vs(e,t,Nt)});var Us=function(e,t){var n=-1,r=kt(e)?Array(e.length):[];return Bs(e,function(e,o,i){r[++n]=t(e,o,i)}),r};var zs=function(e,t){return(i(e)?Ee:Us)(e,Fs(t,3))};var Gs=function(e,t){return Ar(zs(e,t),1)};const Ks=10;class Hs{constructor(e,t,n,r,o,i){this.glState=e,this.camera=t,this.materialWithArmature=n,this.objects=r,this.markerMeta=o,this.gizmoMeta=i,this.debugMarkers={};const a=this.debugMarkers,s={radius:"small",clickable:!1};a.dragStart=new vs(ps.Debug,Object.assign({},s,{color:$r("#318c8f")})),a.dragNow=new vs(ps.Debug,Object.assign({},s,{color:$r("#69d3d6")})),a.dragNowOnPlane=new vs(ps.Debug,Object.assign({},s,{color:$r("#40c170")})),a.axis=[];for(let e=0;e<Ks;e++)a.axis.push(new vs(ps.Debug,{radius:"tiny",clickable:!1}))}getMVP(e){const[t,n]=this.glState.getViewport();return Xr(e,this.camera.getViewMatrix(),this.camera.getProjectionMatrix(t,n))}getVP(){return this.getMVP(Object(Ut.create)())}getMV(e){return Zr(e,this.camera.getViewMatrix())}getObjectBoneMarkers(){return Gs(this.objects,e=>e.bones.map(e=>e.marker))}getMarkers(){return[...this.getObjectBoneMarkers(),...this.gizmoMeta.markers,...this.getDebugMarkers()]}getMarker(e){if("string"==typeof e){return this.getObjectBoneMarkers().find(t=>t.name===e)}return this.gizmoMeta.markers[e]}getDebugMarkers(){return[...this.debugMarkers.axis,this.debugMarkers.dragStart,this.debugMarkers.dragNow,this.debugMarkers.dragNowOnPlane]}}var Ws=n(62);const qs="W",$s="S",Ys="A",Xs="D",Zs="Z",Qs=" ",Js=.3;class ec{constructor(e,t,n){this.settings=e,this.angles=[0,0],this.rotateSpeed=0,this.onMouseWheel=(e=>{const t=Math.sign(e.deltaY)*Js;this.applyMove(Object(Vt.fromValues)(0,0,t))}),t.addEventListener("wheel",this.onMouseWheel),this.position=Object(Vt.fromValues)(n[0],n[1],n[2])}update(e,t,n,r){this.rotateSpeed=n;const o=t*e,i=this.calculateMovementDirectionFromKeys(r,o);this.applyMove(i)}calculateMovementDirectionFromKeys(e,t){const n=t=>e[t.charCodeAt(0)];let r=Object(Vt.fromValues)(0,0,0);return n(qs)&&(r[2]-=t),n($s)&&(r[2]+=t),n(Ys)&&(r[0]-=t),n(Xs)&&(r[0]+=t),n(Qs)&&(r[1]+=t),n(Zs)&&(r[1]-=t),r}applyMove(e){if(0!==e[0]||0!==e[1]||0!==e[2]){const t=Object(Ut.transpose)(Object(Ut.create)(),this.getRotationMat()),n=Wr(e,t,!0);for(let e=0;e<3;e++)this.position[e]+=n[e]}}getViewMatrix(){const e=this.getRotationMat(),t=this.getPosition();return Object(Ut.translate)(Object(Ut.create)(),e,[-t[0],-t[1],-t[2]])}getRotationMat(){const e=this.angles;let t=Object(Ut.create)();return Object(Ut.rotateX)(t,t,e[0]),Object(Ut.rotateY)(t,t,e[1]),t}getProjectionMatrix(e,t){const{fovDgr:n,zNear:r,zFar:o}=this.settings,i=e/t;return Object(Ut.perspective)([],Hr(n),i,r,o)}getPosition(){const e=this.position;return Object(Vt.fromValues)(e[0],e[1],e[2])}onMouseMove(e){const{delta:t}=e;for(this.angles[1]+=t[0]*this.rotateSpeed;this.angles[1]<0;)this.angles[1]+=Hr(360);for(;this.angles[1]>=Hr(360);)this.angles[1]-=Hr(360);for(this.angles[0]+=t[1]*this.rotateSpeed;this.angles[0]<-Hr(90);)this.angles[0]=-Hr(90);for(;this.angles[0]>Hr(90);)this.angles[0]=Hr(90)}}const tc=(e,t)=>{const n=(e=>{const{radius:t,height:n,segments:r}=e;return{vertices:[...Er(t,r),...Er(t,r).map(kr(n))],indices:Rr(r,0,r)}})({radius:.01,height:.9,segments:5}),r=(e=>{const{radius:t,height:n,segments:r}=e,o=[];for(let e=0;e<r;e++)o.push({a:e,b:(e+1)%r,c:r});return{vertices:[...Er(t,r),Cr(0,n,0)],indices:o}})({radius:.05,height:.2,segments:32});return r.vertices=r.vertices.map(kr(.8)),Object.assign({},Pr(e,((...e)=>{const t=[],n=[];let r=0;return e.forEach(e=>{t.push(...e.vertices),n.push(...e.indices.map(e=>({a:e.a+r,b:e.b+r,c:e.c+r}))),r+=e.vertices.length}),{vertices:t,indices:n}})(n,r),t,"a_Position"),{material:void 0})},nc=(e,t)=>{const n=(e=>{const{radius:t,crosscutRadius:n,segments:r,crosscutSegments:o}=e,i=Er(n,o),a=[];for(let e=0;e<o;e++){const n=i[e],o=Er(t+n[0],r).map(kr(n[2]));a.push(o)}const s=[];for(let e=0;e<o;e++){const t=e*r,n=(e+1)%o*r;s.push(Rr(r,t,n))}return{vertices:Tr(a),indices:Tr(s)}})({radius:1,crosscutRadius:.01,segments:64,crosscutSegments:5});return Object.assign({},Pr(e,n,t,"a_Position"),{material:void 0})},rc=(e,t,n)=>{const r=e[t],{globalTransform:o,finalBoneMatrix:i}=r.getFrameCache(),a=((e,t)=>{const n=Br(e.data.bindTransform),r=Br(t);return Object(Ut.multiply)(Object(Ut.create)(),n,r)})(r,r.$frameTransform);Object(Ut.multiply)(o,n,a),Object(Ut.multiply)(i,o,r.data.inverseBindMatrix),r.children.forEach(t=>{rc(e,t,o)})},oc=(e,t)=>{const{modelMatrix:n,bones:r}=t;r.forEach(t=>{const o=e.getMarker(t.name),i=((e,t)=>{const n=t.$frameMatrix,r=t.getParentBindMatrix(e),o=t.data.bindTransform.position,i=Wr(o,r,!0);return Wr(i,n,!0)})(r,t);o.$position3d=Wr(i,n,!0)})};var ic=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1};var ac=function(e){return e!=e};var sc=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var cc=function(e,t,n){return t==t?sc(e,t,n):ic(e,ac,n)},uc="[object String]";var lc=function(e){return"string"==typeof e||!i(e)&&y(e)&&g(e)==uc},fc=1/0,hc=1.7976931348623157e308;var pc=function(e){return e?(e=wo(e))===fc||e===-fc?(e<0?-1:1)*hc:e==e?e:0:0===e?e:0};var dc=function(e){var t=pc(e),n=t%1;return t==t?n?t-n:t:0};var vc=function(e,t){return Ee(t,function(t){return e[t]})};var mc=function(e){return null==e?[]:vc(e,Nt(e))},bc=Math.max;var gc=function(e,t,n,r){e=kt(e)?e:mc(e),n=n&&!r?dc(n):0;var o=e.length;return n<0&&(n=bc(o+n,0)),lc(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&cc(e,t,n)>-1};class yc{constructor(e,t,n){this.name=e,this.children=t,this.data=n,this.marker=new vs(ps.Bone,{owner:this}),this.$_frameCache={finalBoneMatrix:Object(Ut.create)(),globalTransform:Object(Ut.create)(),animationTransform:Ir()},Object.freeze(this.data)}getParent(e){const t=e.findIndex(e=>e.name===this.name);if(-1===t)return;return e.filter(e=>gc(e.children,t))[0]}getParentBindMatrix(e){const t=Object(Ut.create)(),n=this.getParent(e);return n&&Object(Ut.copy)(t,n.data.bindMatrix),t}get $frameMatrix(){return this.$_frameCache.finalBoneMatrix}get $frameTransform(){return this.$_frameCache.animationTransform}getFrameCache(){return this.$_frameCache}}const Oc=(e,t)=>{const n=e.gltf,r=e=>t.joints.findIndex(t=>t===e),o=t.joints.map(e=>{const t=n.nodes[e];return new yc(t.name,((e,t)=>{const n=[];return e.children&&e.children.forEach(e=>{const r=t(e);-1!==r&&n.push(r)}),n})(t,r),(e=>{const t=e.translation?Vt.fromValues.apply(null,e.translation):Dr,n=e.rotation?Nr.fromValues.apply(null,e.rotation):Fr,r=e.scale?Vt.fromValues.apply(null,e.scale):Vr;return{bindMatrix:Object(Ut.create)(),inverseBindMatrix:Object(Ut.create)(),bindTransform:{position:t,rotation:n,scale:r}}})(t))});return(e=>{const t=(n,r)=>{const{data:o}=e[n],i=Br(o.bindTransform);Object(Ut.multiply)(o.bindMatrix,r,i),Object(Ut.invert)(o.inverseBindMatrix,o.bindMatrix),e[n].children.forEach(e=>{t(e,o.bindMatrix)})};t(0,Object(Ut.create)())})(o),o};var jc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};const wc=(e,t,n)=>jc(void 0,void 0,void 0,function*(){const r=t.gltf.accessors[n],o=yield t.accessorData(n);switch(r.componentType){case e.FLOAT:return o;case e.UNSIGNED_SHORT:{const e=((e,t,n)=>{const{buffer:r,byteOffset:o,length:i}=e;return new t(r,o,i/n)})(o,Uint16Array,Gr);return Float32Array.from(e,e=>e+.5)}case e.BYTE:case e.UNSIGNED_BYTE:case e.SHORT:case e.INT:case e.UNSIGNED_INT:default:throw[`Unsupported gltf accessor component type ${r.componentType}.`,"Expected gl.FLOAT or gl.UNSIGNED_SHORT. This should not happen, as","asset is part of repo"].join(" ")}}),_c=(e,t)=>jc(void 0,void 0,void 0,function*(){const{attributes:n,indices:r}=e,{gl:o,asset:i,shader:a,attrMap:s}=t,c=[];for(let e in s){if(!(e in n))throw`Could not find ${e} attribute in gltf file`;const t=s[e],r=yield wc(o,i,n[e]);c.push(new yr(t,r,0,0))}const u=new jr(o,a,c),l=yield((e,t,n)=>jc(void 0,void 0,void 0,function*(){const r=t.gltf.accessors[n],o=yield t.bufferViewData(r.bufferView),i=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.bufferData(e.ELEMENT_ARRAY_BUFFER,o,e.STATIC_DRAW),{indexGlType:r.componentType,indexBuffer:i,triangleCnt:r.count/3}}))(o,i,r),f=((e,t)=>{const n=t.material;let r=Object(Vt.fromValues)(.7,.7,.7);if(void 0!==n){const t=e.gltf.materials[n].pbrMetallicRoughness;Object(Vt.copy)(r,t.baseColorFactor)}return{baseColor:r}})(i,e);return Object.assign({vao:u},l,{material:f})});var xc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};const Mc={POSITION:"a_Position",JOINTS_0:"a_BoneIDs",WEIGHTS_0:"a_Weights"},Sc=(e,t)=>xc(void 0,void 0,void 0,function*(){const n=t.asset.gltf,r=((e,t)=>{const n=e.gltf.nodes.filter(e=>e.name===t);if(1!==n.length)throw`expected to find single object '${t}', found ${n.length}`;return n[0]})(t.asset,e),o=n.meshes[r.mesh],i=n.skins[r.skin];if(!o||!i)throw`expected that object will contain mesh and skin data: '${JSON.stringify(r)}'`;const a=Object.assign({},t,{attrMap:Mc}),s=o.primitives.map(t=>xc(this,void 0,void 0,function*(){const n=yield _c(t,a);return console.log(`Mesh[${e}]`,n),n}));return{name:e,meshes:yield Promise.all(s),bones:Oc(t.asset,i),modelMatrix:Object(Ut.create)()}});var Ac=function(e,t){var n;return Bs(e,function(e,r,o){return!(n=t(e,r,o))}),!!n};var Tc=function(e,t,n){if(!M(n))return!1;var r=typeof t;return!!("number"==r?kt(n)&&mt(t,n.length):"string"==r&&t in n)&&ie(n[t],e)};var Cc=function(e,t,n){var r=i(e)?tn:Ac;return n&&Tc(e,t,n)&&(t=void 0),r(e,Fs(t,3))};const Pc=[wr.AxisX,wr.AxisZ,wr.AxisY],Ec=[],Rc=(e,t,n)=>{return-1!==((e,t)=>{switch(e){case ou.Move:return t.position;case ou.Rotate:return t.rotation;case ou.Scale:return t.scale}})(t,n).indexOf(e)},kc=(e,t)=>Cc(_r,n=>Rc(n,e,t)),Nc=e=>iu.find(t=>kc(t,e)),Ic={position:Pc,rotation:Pc,scale:Ec},Lc=e=>Object.assign({},Ic,e),Dc={name:"bone-not-found",keyframe0:Lr,constraints:Ic},Fc=Lc({position:Ec,rotation:(e=>[e])(wr.AxisX)}),Vc=[Object.assign({},Dc,{name:"LampArmature_bRoot",keyframe0:Object.assign({},Lr,{position:Object(Vt.fromValues)(1,0,0)})}),Object.assign({},Dc,{name:"LampArmature_bLower",constraints:Fc}),Object.assign({},Dc,{name:"LampArmature_bUpper",constraints:Fc}),Object.assign({},Dc,{name:"LampArmature_bHead",constraints:Lc({position:Ec,rotation:Pc})}),Object.assign({},Dc,{name:"BallArmature_bBall",keyframe0:Object.assign({},Lr,{position:Object(Vt.fromValues)(-1,.3,0)})})];Vc.forEach(e=>Object.freeze(e));const Bc=[{object:"LampObj",filePath:n(212)},{object:"BallObj",filePath:n(213)}],Uc={LAMP_VERT:n(214),LAMP_FRAG:n(215),MARKER_VERT:n(216),MARKER_FRAG:n(217),GIZMO_VERT:n(218),GIZMO_FRAG:n(219),GRID_VERT:n(220),GRID_FRAG:n(221)},zc={fovDgr:70,zNear:.1,zFar:100},Gc=Object(Vt.fromValues)(0,1.5,4),Kc=e=>Vc.find(t=>t.name===e)||Dc;var Hc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};const Wc=e=>{const t=new vr(e,Uc.MARKER_VERT,Uc.MARKER_FRAG);return{shader:t,instancingVAO:((e,t,n)=>{const r=new Float32Array(n);for(let e=0;e<n;e++)r[e]=e;return new jr(e,t,[new yr("a_VertexId_f",r,0,0)])})(e,t,256)}},qc=e=>Hc(void 0,void 0,void 0,function*(){const{gl:t}=e,n=new vr(t,Uc.LAMP_VERT,Uc.LAMP_FRAG),r=new ec(zc,e.canvas,Gc),o={gl:t,shader:n,asset:void 0},i=yield Promise.all(Bc.map((e=>t=>Hc(void 0,void 0,void 0,function*(){const{object:n,filePath:r}=t,o=new Ws.GltfLoader,i=yield o.load(r);console.log("asset.gltf",i.gltf);const a=Object.assign({},e,{asset:i});return Sc(n,a)}))(o)));return new Hs(e,r,n,i,Wc(t),(e=>{const t=_r.map(e=>new vs(ps.Gizmo,{owner:e,color:au[e]})),n=new vr(e,Uc.GIZMO_VERT,Uc.GIZMO_FRAG);return{shader:n,moveMesh:tc(e,n),rotateMesh:nc(e,n),markers:t}})(t))}),$c=(e,t)=>{const n=e.marker.$position3d,r=xr(t),o=e.getFrameCache().globalTransform,i=Wr(r,o,!0);return Qr(i,n)},Yc=e=>Object(Vt.normalize)(Object(Vt.fromValues)(0,0,0),e),Xc=[Yc(Object(Vt.fromValues)(1,0,1)),Yc(Object(Vt.fromValues)(-1,0,1)),Yc(Object(Vt.fromValues)(1,0,-1)),Yc(Object(Vt.fromValues)(-1,0,-1))],Zc=Hr(90),Qc=e=>e.scene.gizmoMeta.shader,Jc=(e,t,n)=>{const r=(e=>{switch(e){case wr.AxisX:return Object(Ut.fromZRotation)(Object(Ut.create)(),Zc);case wr.AxisY:return Object(Ut.create)();case wr.AxisZ:return Object(Ut.fromXRotation)(Object(Ut.create)(),-Zc)}})(e),o=Object(Ut.fromScaling)(Object(Ut.create)(),Object(Vt.fromValues)(n.size,n.size,n.size)),i=(e=>Object(Ut.multiply)(Object(Ut.create)(),e.$frameMatrix,e.data.bindMatrix))(n.origin.owner),a=Object(Ut.multiply)(Object(Ut.create)(),i,r);return Object(Ut.multiply)(Object(Ut.create)(),a,o)},eu=(e,t,n,r)=>{const{scene:o}=t,i=o.getMarker(e);switch(n.gizmoType){case ou.Move:case ou.Scale:i.$position3d=Wr(ru,r,!0),i.radius=nu*n.size;break;case ou.Rotate:{const e=o.camera.getPosition();i.$position3d=((e,t)=>{const n=Xc.map(n=>{const r=Wr(n,e,!0);return{position:r,distance:Object(Vt.distance)(r,t)}}),r=n.reduce((e,t,r)=>{const o=n[e];return n[r].distance<o.distance?r:e},0);return n[r].position})(r,e);break}}},tu=(e,t)=>{if(t.origin.type!==ps.Bone)throw"Could not draw gizmo at unsupported origin (expected MarkerType.Bone)";const{gizmoType:n,forceDrawMarkers:r,isDragging:o}=t,{scene:i,glState:{gl:a}}=e,s=new nr;s.depth.write=!1,s.depth.test=Kn.AlwaysPass,s.culling=Xn.None,e.glState.setDrawState(s);const c=Qc(e),{vao:u,indexBuffer:l,indexGlType:f,triangleCnt:h}=((e,t)=>{const n=e.scene.gizmoMeta;switch(t){case ou.Move:return n.moveMesh;case ou.Rotate:return n.rotateMesh;case ou.Scale:return n.moveMesh}})(e,n);c.use(a),u.bind(a),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,l),_r.forEach(n=>{const{isAxisDraggable:s,markerVisible:c}=((e,t,n,r)=>{const o=Rc(n,t,e.selectedObjectCfg.constraints);return{isAxisDraggable:o,markerVisible:!r&&o&&t===ou.Rotate}})(e,t.gizmoType,n,o),u=i.getMarker(n);if(u.clickable=s,u.visible=c||r,!s)return;const l=Jc(n,0,t),p=i.getMVP(l);gr(a,Qc(e),{g_Color:au[n],g_MVP:p},!0),a.drawElements(a.TRIANGLES,3*h,f,0),eu(n,e,t,l)})},nu=.2,ru=Object(Vt.fromValues)(0,.8,0);var ou;!function(e){e[e.Move=0]="Move",e[e.Rotate=1]="Rotate",e[e.Scale=2]="Scale"}(ou||(ou={}));const iu=[ou.Move,ou.Rotate,ou.Scale],au=[Object(Vt.fromValues)(1,0,0),Object(Vt.fromValues)(0,1,0),Object(Vt.fromValues)(0,0,1)];var su=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const cu=20,uu=100,lu=20,fu=20,hu=250;class pu{constructor(){this.isFullscreen=!1,this.selectedObjectName=void 0,this.currentGizmo=ou.Move,this.gizmoSize=uu/2,this.cameraMoveSpeed=lu/2,this.cameraRotateSpeed=fu/2,this.isUseLocalSpace=!0,this.markerSize=cu/2,this.useSlerp=!0,this.showTimeAsSeconds=!0,this.showDebug=!1,this._previewRange=[0,hu],this.currentFrame=0,this.isPlaying=!1,this.showMarkers=!0}get frameCount(){return hu}clampFrame(e){return qr(e,0,this.frameCount-1)}gotoFrame(e){const t=this.clampFrame(e);this.isPlaying||this.currentFrame===t||(this.currentFrame=t)}get previewRange(){return this._previewRange}get previewRangeSorted(){return[Math.min(...this.previewRange),Math.max(...this.previewRange)]}resetPreviewRange(){this._previewRange=[0,this.frameCount]}get currentObjectData(){const e=this.selectedObjectName;if(e)return{name:e,isBone:!0,constraints:Kc(e).constraints}}setCurrentObject(e){this.selectedObjectName=e;const t=Kc(e);kc(this.currentGizmo,t.constraints)||(this.currentGizmo=t?Nc(t.constraints):ou.Move)}}su([oo.g],pu.prototype,"isFullscreen",void 0),su([oo.g],pu.prototype,"selectedObjectName",void 0),su([oo.g],pu.prototype,"currentGizmo",void 0),su([oo.g],pu.prototype,"gizmoSize",void 0),su([oo.g],pu.prototype,"cameraMoveSpeed",void 0),su([oo.g],pu.prototype,"cameraRotateSpeed",void 0),su([oo.g],pu.prototype,"isUseLocalSpace",void 0),su([oo.g],pu.prototype,"markerSize",void 0),su([oo.g],pu.prototype,"useSlerp",void 0),su([oo.g],pu.prototype,"showTimeAsSeconds",void 0),su([oo.g],pu.prototype,"showDebug",void 0),su([oo.g],pu.prototype,"_previewRange",void 0),su([oo.g],pu.prototype,"currentFrame",void 0),su([oo.g],pu.prototype,"isPlaying",void 0),su([oo.g],pu.prototype,"showMarkers",void 0),su([oo.e],pu.prototype,"frameCount",null),su([oo.e],pu.prototype,"previewRange",null),su([oo.e],pu.prototype,"previewRangeSorted",null),su([oo.e],pu.prototype,"currentObjectData",null),su([oo.c],pu.prototype,"setCurrentObject",null);var du=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var vu=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=j(e),a=void 0!==t,s=null===t,c=t==t,u=j(t);if(!s&&!u&&!i&&e>t||i&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!c)return-1}return 0};var mu=function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var c=vu(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index};var bu=function(e,t,n){var r=-1;t=Ee(t.length?t:[ba],jt(Fs));var o=Us(e,function(e,n,o){return{criteria:Ee(t,function(t){return t(e)}),index:++r,value:e}});return du(o,function(e,t){return mu(e,t,n)})};var gu=function(e,t){return wa(va(e,t,ba),e+"")},yu=gu(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Tc(e,t[0],t[1])?t=[]:n>2&&Tc(t[0],t[1],t[2])&&(t=[t[0]]),bu(e,Ar(t,1),[])}),Ou=1,ju=4;var wu=function(e){return ea(e,Ou|ju)};var _u=function(e,t){return!(null==e||!e.length)&&cc(e,t,0)>-1};var xu=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1};var Mu=function(){},Su=We&&1/cn(new We([,-0]))[1]==1/0?function(e){return new We(e)}:Mu,Au=200;var Tu=function(e,t,n){var r=-1,o=_u,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=xu;else if(i>=Au){var u=t?null:Su(e);if(u)return cn(u);a=!1,o=nn,c=new en}else c=t?[]:s;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),s.push(l)}else o(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s};var Cu=function(e){return e&&e.length?Tu(e):[]};const Pu=(()=>{let e=0,t=0;return(n,r)=>{const o=n-e;e=n,++t;const{currentFrame:i,useSlerp:a,previewRangeSorted:s,showTimeAsSeconds:c}=sl.getFromUI(Xu("currentFrame","useSlerp","previewRangeSorted","showTimeAsSeconds")),u=((e,t,n,r)=>{const{animationState:o}=r;let i=e;if(o.isPlaying){const e=t-o.animationStartTimestamp;i=Gu((e=>e/1e3)(e))%(n[1]-n[0])+n[0]}return i})(i,n,s,r),{animationState:l}=r;return Hu(l.isPlaying?u:void 0,c),{deltaTimeMs:o,absoluteTimeMs:n,aboluteFrameId:t-1,useSlerp:a,animationFrameId:u}}})(),Eu=e=>t=>{const{animTimings:n}=e,r=t.$frameTransform;((e,t,n)=>{const{animationFrameId:r,useSlerp:o}=e,i=Kc(n.name),a=sl.getTimeline(n.name),s=Uu(a,r,i.keyframe0,{useSlerp:o});Ur(t,s)})(n,r,t);const o=((e,t)=>{const{selectedObjectName:n,glState:{draggingStatus:r}}=e;if(t.name===n)return r.temporaryDisplacement})(e,t);o&&((e,t)=>{Object(Vt.add)(e.position,e.position,t.position),Object(Nr.multiply)(e.rotation,e.rotation,t.rotation)})(r,o)};var Ru=function(e){return function(t,n,r){var o=Object(t);if(!kt(t)){var i=Fs(n,3);t=Nt(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}},ku=Math.max;var Nu=Ru(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:dc(n);return o<0&&(o=ku(r+o,0)),ic(e,Fs(t,3),o)}),Iu=Math.max,Lu=Math.min;var Du=Ru(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=dc(n),o=n<0?Iu(r+o,0):Lu(o,r-1)),ic(e,Fs(t,3),o,!0)});const Fu=(e,t)=>{const n={frameId:e,transform:Ir()};return Ur(n.transform,t),n},Vu=(e,t)=>Du(e,(e=>t=>t.frameId<e)(t)),Bu=(e,t)=>Nu(e,(e=>t=>t.frameId>e)(t)),Uu=(e,t,n,r)=>{const o=((e,t)=>e.find((e=>t=>t.frameId===e)(t)))(e,t);let i=Ue(o,"transform");if(!i){const o=Vu(e,t),a=Ue(o,"transform",n),s=Bu(e,t);i=((e,t,n,r)=>{n=qr(n,0,1);const o=Ir();return Object(Vt.lerp)(o.position,e.position,t.position,n),r.useSlerp?Object(Nr.slerp)(o.rotation,e.rotation,t.rotation,n):Object(Nr.lerp)(o.rotation,e.rotation,t.rotation,n),o})(a,Ue(s,"transform",a),((e,t,n)=>{const r=Ue(e,"frameId",0),o=Ue(t,"frameId",0)-r;return 0===o?1:(n-r)/o})(o,s,t),r)}return i},zu=e=>e/24,Gu=e=>24*e,Ku=document.getElementById("animation-frame-id"),Hu=(e,t)=>{const n=e=>{Ku.style.display!==e&&(Ku.style.display=e)};if(void 0!==e){n("block");const r=t?zu(e):e;Ku.innerText=Jr(r,1)}else n("none")};var Wu=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const qu={};Object.freeze(qu);const $u=(e,t)=>e.filter(e=>e.frameId!==t);class Yu{constructor(e){this.timelines=wu(e)}get framesWithKeyframe(){const e=Object.keys(this.timelines).map(e=>(e=>e.map(e=>e.frameId))(this.timelines[e]));return yu(Cu(Tr(e)))}getTimeline(e){return this.timelines[e]||this.setTimeline(e,[]),this.timelines[e]}setTimeline(e,t){this.timelines[e]=yu(t,["frameId"])}hasKeyframeAt(e,t){return!!this.getKeyframeAt(e,t)}setKeyframeAt(e,t,n){const r=this.getTimeline(e),o=[...$u(r,t),Fu(t,n)];this.setTimeline(e,o)}deleteKeyframe(e,t){const n=this.getTimeline(e);this.setTimeline(e,$u(n,t))}getKeyframeAt(e,t){return this.getTimeline(e).find(e=>e.frameId===t)}moveKeyframeAt(e,t,n){const r=this.getKeyframeAt(e,t);if(!r)return;const o={frameId:n,transform:r.transform};this.setTimeline(e,[...$u(this.getTimeline(e),t),o])}duplicateKeyframeAt(e,t,n){const r=this.getKeyframeAt(e,t);r&&this.setKeyframeAt(e,n,r.transform)}reset(e=qu){this.timelines=wu(e)}}Wu([oo.g],Yu.prototype,"timelines",void 0),Wu([oo.e],Yu.prototype,"framesWithKeyframe",null),Wu([oo.c],Yu.prototype,"setKeyframeAt",null);const Xu=(...e)=>{return t=>{const{appState:n}=t;return ka(n,e)}};const Zu=(e,t)=>{let n=t;try{n=e()}catch(e){console.log(`[(De?)serialize error] ${e}`)}return n},Qu=(e,t)=>{for(let n=0;n<e.length;n++)e[n]=t[n]},Ju=e=>{const t=Ir();return Qu(t.position,e.position),Qu(t.rotation,e.rotation),t},el=e=>{const t=[];return e.forEach(e=>{const n=Zu(()=>(e=>({frameId:e.frameId,transform:Ju(e.transform)}))(e),void 0);n&&t.push(n)}),t},tl=e=>Zu(()=>{if(!e)return qu;return(e=>{if(!e)return qu;const t={};return Object.keys(e).forEach(n=>{t[n]=Zu(()=>el(e[n]),[])}),t})(JSON.parse(e).timelines)},qu),nl=e=>Zu(()=>JSON.stringify(e),void 0),rl=(e,t)=>{localStorage.setItem(e,t)},ol=e=>localStorage.getItem(e),il=new pu,al=(()=>{const e=ol("TimelineState"),t=tl(e);return new Yu(t)})(),sl=new class{constructor(e,t){this.appState=e,this.timelineState=t}getFromUI(e){return e(this.getStateAsObject())}setOnUI(e){window.requestAnimationFrame(()=>{e(this.getStateAsObject())})}setCurrentObject(e){this.setOnUI(t=>{const{appState:n}=t;n.setCurrentObject(e)})}setKeyframe(e){const{selectedObjectName:t,currentFrame:n}=this.appState;this.timelineState.setKeyframeAt(t,n,e)}getTimeline(e){return this.timelineState.getTimeline(e)}getStateAsObject(){return{appState:this.appState,timelineState:this.timelineState}}}(il,al),cl=So(uo,1e3);var ul;((e,t,n=300)=>{let r=!0;Object(oo.d)(()=>{const n=Object(oo.h)(e);r||t(n),r=!1},{delay:n})})(al,e=>{try{const t=nl(e);if(!t)throw"Error serializing state";rl("TimelineState",t),cl({msg:"Changes saved",type:no.Success,timeout:1e3})}catch(e){cl({msg:e,type:no.Error,timeout:1e3})}},300),function(e){e[e.Closed=0]="Closed",e[e.MoveKeyframe=1]="MoveKeyframe",e[e.DuplicateKeyframe=2]="DuplicateKeyframe"}(ul||(ul={}));class ll extends r.Component{constructor(e){super(),this.onMoveKeyframeConfirmed=(()=>{const{onKeyframeMove:e,openMode:t}=this.props,n=parseFloat(this.state.value);isNaN(n)||e(t,n)}),this.onInput=(e=>{this.setState({value:e})}),this.state={value:`${e.initFrame}`}}render(){const{openMode:e,onClose:t}=this.props,n=this.getText();return Object(r.h)(za,{open:e!==ul.Closed,buttons:[{onClick:t,children:"Cancel"},{onClick:this.onMoveKeyframeConfirmed,theme:Co.Blue,children:n.okBtn}]},Object(r.h)("p",null,n.content),Object(r.h)(Va,{name:"move-frame",value:this.state.value,onInput:this.onInput,validate:Da.NumberDecimal,rawProps:{maxlength:3,style:{marginBottom:"10px"}}}))}getText(){const{openMode:e,initFrame:t}=this.props,n=e===ul.DuplicateKeyframe;return{okBtn:n?"Duplicate the keyframe":"Move the keyframe",content:n?`Duplicate ${t} to frame:`:`Move keyframe from ${t} to:`}}}var fl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const hl=n(223),pl=n(224),dl=[{key:"f",action:"onPrevFrame",continous:!0},{key:"g",action:"onNextFrame",continous:!0},{key:"v",action:"onPlay",continous:!1},{key:"q",action:"onMove",continous:!1},{key:"e",action:"onRotate",continous:!1},{key:"r",action:"onScale",continous:!1},{key:"h",action:"onMarkerHide",continous:!1}];let vl=class extends r.Component{constructor(){super(...arguments),this.state={moveKeyframeModalMode:ul.Closed},this.globalShortcutKeyHandler=(e=>{const t="keyup"!==e.type;for(const{key:n,action:r,continous:o}of dl)e.key===n&&(t&&o&&this[r](),t||o||this[r]())}),this.onPlay=(()=>{const{appState:e}=this.props;e.isPlaying=!e.isPlaying}),this.onReset=(()=>{const{appState:e}=this.props;e.isPlaying=!1,e.gotoFrame(Math.min(...e.previewRange))}),this.onPrevFrame=(()=>{const{appState:e}=this.props;e.gotoFrame(e.currentFrame-1)}),this.onNextFrame=(()=>{const{appState:e}=this.props;e.gotoFrame(e.currentFrame+1)}),this.onFrameTextInput=((e,t)=>{const n=parseFloat(e);if(isNaN(n))return;const{appState:r}=this.props;r.gotoFrame(n-1)}),this.onPrevKeyframe=(()=>{const{appState:e}=this.props,t=Vu(this.getKeyframes(),e.currentFrame);t&&e.gotoFrame(t.frameId)}),this.onNextKeyframe=(()=>{const{appState:e}=this.props,t=Bu(this.getKeyframes(),e.currentFrame);t&&e.gotoFrame(t.frameId)}),this.openMoveKeyframeModal=(()=>{this.setState({moveKeyframeModalMode:ul.MoveKeyframe})}),this.openDuplicateKeyframeModal=(()=>{this.setState({moveKeyframeModalMode:ul.DuplicateKeyframe})}),this.closeMoveKeyframeModal=(()=>{this.setState({moveKeyframeModalMode:ul.Closed})}),this.onMoveKeyframeConfirmed=((e,t)=>{const{appState:n,timelineState:r}=this.props;t=n.clampFrame(t-1),e===ul.MoveKeyframe?r.moveKeyframeAt(n.selectedObjectName,n.currentFrame,t):e===ul.DuplicateKeyframe&&r.duplicateKeyframeAt(n.selectedObjectName,n.currentFrame,t),this.closeMoveKeyframeModal()}),this.onKeyframeDelete=(()=>{const{timelineState:e,appState:t}=this.props;e.deleteKeyframe(t.selectedObjectName,t.currentFrame)}),this.onMove=(()=>{this.trySetGizmo(ou.Move)}),this.onRotate=(()=>{this.trySetGizmo(ou.Rotate)}),this.onScale=(()=>{this.trySetGizmo(ou.Scale)}),this.onMarkerHide=(()=>{const{appState:e}=this.props;e.showMarkers=!e.showMarkers}),this.onHelpShow=(()=>{$a(!0)})}componentDidMount(){window.addEventListener("keyup",this.globalShortcutKeyHandler),window.addEventListener("keypress",this.globalShortcutKeyHandler)}componentWillUnmount(){window.removeEventListener("keyup",this.globalShortcutKeyHandler),window.removeEventListener("keypress",this.globalShortcutKeyHandler)}render(){const{appState:e,timelineState:t}=this.props,o=e.currentObjectData,i=o&&t.hasKeyframeAt(o.name,e.currentFrame),a=t=>({theme:Co.Blue,disabled:!o||!kc(t,o.constraints),active:e.currentGizmo===t});return Object(r.h)("div",{className:this.getClasses()},Object(r.h)(No,{className:hl.ButtonSpacing},Object(r.h)(ss,{text:"Go to previous frame [F]",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onPrevFrame,theme:Co.Beige},Object(r.h)(Ia,{svg:n(225)})),Object(r.h)(ss,{text:"Play [V]",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onPlay,theme:Co.Green},e.isPlaying?Object(r.h)(Ia,{svg:n(54)}):Object(r.h)(Ia,{svg:n(55)})),Object(r.h)(ss,{text:"Stop",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onReset,theme:Co.Red},Object(r.h)(Ia,{svg:n(226)})),Object(r.h)(ss,{text:"Go to next frame [G]",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onNextFrame,theme:Co.Beige},Object(r.h)(Ia,{svg:n(227)}))),Object(r.h)(ss,{text:"Current frame",className:hl.Tooltip}),Object(r.h)(Va,{name:"current-frame",value:e.currentFrame+1,className:hl.FrameStatus,append:` of ${e.frameCount}`,onInput:this.onFrameTextInput,validate:Da.NumberDecimal,rawProps:{maxlength:3}}),Object(r.h)(No,{className:hl.ButtonSpacing},Object(r.h)(ss,{text:"Go to previous keyframe",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onPrevKeyframe,theme:Co.Yellow},Object(r.h)(Ia,{svg:n(11)}),Object(r.h)(Ia,{svg:n(228)})),Object(r.h)(ss,{text:"Go to next keyframe",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onNextKeyframe,theme:Co.Yellow},Object(r.h)(Ia,{svg:n(229)}),Object(r.h)(Ia,{svg:n(11)})),Object(r.h)(ss,{text:"Move keyframe",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.openMoveKeyframeModal,theme:Co.Yellow,disabled:!i},Object(r.h)(Ia,{svg:n(56)}),Object(r.h)(Ia,{svg:n(11)})),Object(r.h)(ss,{text:"Duplicate keyframe",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.openDuplicateKeyframeModal,theme:Co.Yellow,disabled:!i},Object(r.h)(Ia,{svg:n(230)}),Object(r.h)(Ia,{svg:n(11)})),Object(r.h)(ss,{text:"Remove data at current keyframe",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onKeyframeDelete,theme:Co.Yellow,disabled:!i},Object(r.h)(Ia,{svg:n(231)}),Object(r.h)(Ia,{svg:n(11)}))),Object(r.h)(No,{className:hl.ButtonSpacing},Object(r.h)(ss,{text:"Move [Q]",className:hl.Tooltip}),Object(r.h)(Ro,Object.assign({onClick:this.onMove},a(ou.Move)),Object(r.h)(Ia,{svg:n(57)})),Object(r.h)(ss,{text:"Rotate [E]",className:hl.Tooltip}),Object(r.h)(Ro,Object.assign({onClick:this.onRotate},a(ou.Rotate)),Object(r.h)(Ia,{svg:n(58)})),Object(r.h)(ss,{text:"Scale [R]",className:hl.Tooltip}),Object(r.h)(Ro,Object.assign({onClick:this.onScale},a(ou.Scale)),Object(r.h)(Ia,{svg:n(232)}))),Object(r.h)(No,{className:hl.ButtonSpacing},Object(r.h)(ss,{text:"Toggle markers [H]",className:hl.Tooltip}),Object(r.h)(Ro,{onClick:this.onMarkerHide,theme:Co.Beige,active:e.showMarkers},Object(r.h)(Ia,{svg:n(233)}))),Object(r.h)(No,{className:hl.ButtonSpacing},Object(r.h)(Ro,{onClick:this.onHelpShow,theme:Co.Beige},Object(r.h)(Ia,{svg:n(234)}))),Object(r.h)(No,{className:hl.ButtonSpacing},Object(r.h)(ss,{text:"Open GitHub",className:hl.Tooltip}),Object(r.h)(Ro,{to:"https://github.com/Scthe/Animation-workshop",theme:Co.Beige,className:hl.GithubButton},Object(r.h)(Ia,{svg:pl}))),Object(r.h)(Ya,null,Object(r.h)("h1",null,"Toolbar")),this.isMoveKeyframeModalOpen()&&Object(r.h)(ll,{openMode:this.state.moveKeyframeModalMode,initFrame:e.currentFrame+1,onClose:this.closeMoveKeyframeModal,onKeyframeMove:this.onMoveKeyframeConfirmed}))}getClasses(){const{className:e}=this.props;return Lt(hl.TimelineButtonRow,e||"")}getKeyframes(){const{timelineState:e}=this.props;return e.framesWithKeyframe.map(e=>({frameId:e,transform:null}))}isMoveKeyframeModalOpen(){return this.state.moveKeyframeModalMode!==ul.Closed}trySetGizmo(e){const{appState:t}=this.props,n=t.currentObjectData;n&&kc(e,n.constraints)&&(t.currentGizmo=e)}};vl=fl([Object(o.b)("appState"),Object(o.b)("timelineState"),o.c],vl);var ml=200;var bl=function(e,t,n,r){var o=-1,i=_u,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=Ee(t,jt(n))),r?(i=xu,a=!1):t.length>=ml&&(i=nn,a=!1,t=new en(t));e:for(;++o<s;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=u;h--;)if(t[h]===f)continue e;c.push(l)}else i(t,f,r)||c.push(l)}return c};var gl=function(e){return y(e)&&kt(e)},yl=gu(function(e,t){var n=ta(t);return gl(n)&&(n=void 0),gl(e)?bl(e,Ar(t,1,gl,!0),void 0,n):[]});var Ol=function(e){return"function"==typeof e?e:ba},jl=9007199254740991,wl=4294967295,_l=Math.min;var xl,Ml=function(e,t){if((e=dc(e))<1||e>jl)return[];var n=wl,r=_l(e,wl);t=Ol(t),e-=wl;for(var o=at(r,t);++n<e;)t(n);return o};!function(e){e[e.None=0]="None",e[e.FrameId=1]="FrameId",e[e.Time=2]="Time"}(xl||(xl={}));const Sl=(e,t,n)=>{const r=e/t,o=zu(e)+.1;return{frameId:e,time:`${Math.floor(o)}s`,pixelX:r*n}},Al=e=>{const{pixelX:t,className:n}=e;return Object(r.h)("div",{className:n,style:{left:t}},(e=>{const{labelMode:t,frameId:n,time:r}=e;switch(t){case xl.FrameId:return n;case xl.Time:return r;default:return""}})(e))};var Tl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Cl=n(235),Pl=Lt(Cl.Tick,Cl.TickTime),El=Lt(Cl.Tick,Cl.TickKeyframe),Rl=Lt(Cl.Tick,Cl.TickInActiveKeyframe),kl=Lt(Cl.Tick,Cl.TickCurrentFrame);let Nl=class extends r.Component{constructor(){super(...arguments),this.state={isClicked:!1},this.isTickInRange=(e=>{const{appState:t}=this.props;return e.frameId>=0&&e.frameId<=t.frameCount}),this.createTickPosition=(e=>{const{dimensions:t,appState:n}=this.props;return Sl(e,n.frameCount,t.width)}),this.onMouseDown=(e=>{this.setState({isClicked:!0}),this.updateCurrentFrameFromEvent(e)}),this.onMouseUp=(e=>{this.state.isClicked&&(this.setState({isClicked:!1}),this.updateCurrentFrameFromEvent(e))}),this.onMouseMove=(e=>{this.state.isClicked&&this.updateCurrentFrameFromEvent(e)})}render(){const{appState:e}=this.props,t=e.showTimeAsSeconds?xl.Time:xl.FrameId,n=this.createTickList().filter(this.isTickInRange),o=this.createTickPosition(e.currentFrame),i=this.createActiveKeyframesList().filter(this.isTickInRange),a=this.createAllKeyframesList().filter(this.isTickInRange),s=yl(a,i,Gn);return Object(r.h)("div",{className:this.getClasses(),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseUp,onMouseMove:this.onMouseMove},n.map(e=>Object(r.h)(Al,Object.assign({key:e.frameId},e,{className:Pl,labelMode:t}))),s.map(e=>Object(r.h)(Al,Object.assign({key:e.frameId},e,{className:Rl,labelMode:xl.None}))),i.map(e=>Object(r.h)(Al,Object.assign({key:e.frameId},e,{className:El,labelMode:xl.None}))),Object(r.h)(Al,Object.assign({},o,{className:kl,labelMode:xl.None})),this.getPreviewShadows().map((e,t)=>Object(r.h)("div",{key:t,className:Cl.PreviewRange,style:e})),Object(r.h)(Ya,null,Object(r.h)("h1",null,"Timeline axis"),Object(r.h)("p",null,"Click to move through time")))}getClasses(){const{className:e}=this.props;return Lt(Cl.TimelineAxis,e)}createTickList(){const{appState:e}=this.props,t=(e.frameCount-24+1)/24;return Ml(Math.ceil(t),e=>{const t=Gu(e+1);return this.createTickPosition(t)})}createActiveKeyframesList(){const{timelineState:e,appState:t}=this.props;return(e.getTimeline(t.selectedObjectName)||[]).map(e=>this.createTickPosition(e.frameId))}createAllKeyframesList(){const{timelineState:e}=this.props;return e.framesWithKeyframe.map(this.createTickPosition)}updateCurrentFrameFromEvent(e){const{dimensions:t,appState:n}=this.props,r=e.clientX/t.width,o=Math.ceil(r*n.frameCount)-1;n.gotoFrame(o)}getPreviewShadows(){const{dimensions:e,appState:t}=this.props,n=t.frameCount,{width:r}=e,o=t.previewRangeSorted.map(e=>Sl(e,n,r).pixelX),i=[];return i.push({left:0,width:`${o[0]}px`,borderRightStyle:"solid"}),i.push({right:0,width:`${r-o[1]}px`,borderLeftStyle:"solid"}),i}};Nl=Tl([e=>{return class extends r.Component{constructor(){super(...arguments),this.thisRef=Dt(),this.state={width:0,height:0},this.onResize=(()=>{this.resizeCbDelayReqAnimFrame||(this.resizeCbDelayReqAnimFrame=window.requestAnimationFrame(()=>{this.resizeCbDelayReqAnimFrame=null,this.updateDimensions()}))}),this.updateDimensions=(()=>{const{width:e,height:t}=this.state,n=ze(this.thisRef.current);n.width===e&&n.height===t||this.setState(n)})}componentDidMount(){this.updateDimensions(),window.addEventListener("resize",this.onResize,!1)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){const t=Object.assign({},this.props,{dimensions:this.state});return Object(r.h)("div",{ref:this.thisRef},Object(r.h)(e,Object.assign({},t)))}}},Object(o.b)("appState"),Object(o.b)("timelineState"),o.c],Nl);var Il=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Ll=n(222);let Dl=class extends r.Component{constructor(){super(...arguments),this.onPause=(()=>{const{appState:e}=this.props;e.isPlaying=!1})}render(){return Object(r.h)("div",{className:this.getClasses()},Object(r.h)(vl,null),Object(r.h)(Nl,null),this.renderPauseButton())}renderPauseButton(){const{appState:e}=this.props;return e.isPlaying?Object(r.h)("div",{className:Ll.IsPlayingOverlay},Object(r.h)("div",{className:Ll.PauseBtnWrapper},Object(r.h)(Ro,{onClick:this.onPause,theme:Co.Beige,className:Ll.PauseBtn},Object(r.h)(Ia,{svg:n(54)})))):null}getClasses(){const{className:e}=this.props;return Lt(Ll.Timeline,e)}};Dl=Il([Object(o.b)("appState"),o.c],Dl);var Fl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Vl=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};const Bl=n(238),Ul=".anim.json";let zl=class extends r.Component{constructor(){super(...arguments),this.fileInputRef=Dt(),this.state={isResetModalOpen:!1},this.onImportOpen=(()=>{const e=this.fileInputRef.current;e&&e.click()}),this.onImportFileChanged=(e=>Vl(this,void 0,void 0,function*(){const{timelineState:t,showAlert:n}=this.props;try{const r=yield(e=>{const t=e.target.files[0];if(!t.type.match(".json"))return;let n;const r=new Promise(e=>{n=e}),o=new FileReader;return o.onload=(e=>{n(e.target.result)}),o.readAsText(t),r})(e);if(!r)throw"Could not read as a text file";const o=tl(r);if(!o)throw"Could not parse animation file";t.reset(o),n({msg:"File imported",type:no.Success,timeout:3e3})}catch(e){n({msg:e,type:no.Error,timeout:3e3})}})),this.onExport=(()=>{const{timelineState:e,showAlert:t}=this.props;try{const n=Object(oo.h)(e),r=nl(n);if(!r)throw"Could not serialize into a file";((e,t)=>{const n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)})(this.generateFilename(),r),t({msg:"File ready for download",type:no.Success,timeout:3e3})}catch(e){t({msg:e,type:no.Error,timeout:3e3})}}),this.openResetModal=(()=>this.setState({isResetModalOpen:!0})),this.closeResetModal=(()=>this.setState({isResetModalOpen:!1})),this.onResetConfirmed=(()=>{const{timelineState:e,showAlert:t}=this.props;e.reset(),this.closeResetModal(),t({msg:"Scene reset success",type:no.Success,timeout:3e3})})}render(){const{isResetModalOpen:e}=this.state;return Object(r.h)("div",null,Object(r.h)("input",{name:"importfile",ref:this.fileInputRef,type:"file",accept:".json",style:"display:none",onChange:this.onImportFileChanged}),Object(r.h)(Ro,{onClick:this.onImportOpen,theme:Co.Beige,className:Bl.InSectionBtn},"Import scene"),Object(r.h)(Ro,{onClick:this.onExport,theme:Co.Beige,className:Bl.InSectionBtn},"Export scene"),Object(r.h)(Ro,{onClick:this.openResetModal,theme:Co.Beige,className:Bl.InSectionBtn},"Reset scene"),Object(r.h)(za,{open:e,buttons:[{onClick:this.closeResetModal,children:"Cancel"},{onClick:this.onResetConfirmed,theme:Co.Blue,children:"Yes, reset the scene"}]},Object(r.h)("p",{className:Bl.ModalText},"Are You sure You want to reset the current scene?")))}generateFilename(){const e=new Date,t=e=>`0${e}`.slice(-2);return[t(e.getFullYear()),"-",t(e.getMonth()+1),"-",t(e.getDate()),"__",t(e.getHours()),"_",t(e.getMinutes()),Ul].join("")}};zl=Fl([Object(o.b)("timelineState"),o.c,e=>t=>{const n=Object.assign({},t,{showAlert:Ao,hideAlert:co});return Object(r.h)(e,Object.assign({},n))}],zl);var Gl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Kl=n(237),Hl=[{name:"LERP",value:"LERP"},{name:"SLERP",value:"SLERP"}];let Wl=class extends r.Component{constructor(){super(...arguments),this.onDebugMarkers=(e=>{const{appState:t}=this.props;t.showDebug=e}),this.onShowSeconds=(e=>{const{appState:t}=this.props;t.showTimeAsSeconds=e}),this.onUseSlerp=(e=>{const{appState:t}=this.props;t.useSlerp="SLERP"===e.value}),this.onMarkerSize=(e=>{const{appState:t}=this.props;t.markerSize=e}),this.onGizmoSize=(e=>{const{appState:t}=this.props;t.gizmoSize=e}),this.setPreviewRangeA=(e=>{const{appState:t}=this.props,n=t.previewRange[1];t._previewRange=[this.getPreviewRangeNum(e,n),n]}),this.setPreviewRangeB=(e=>{const{appState:t}=this.props,n=t.previewRange[0];t._previewRange=[n,this.getPreviewRangeNum(e,n)]}),this.resetPreviewRange=(()=>{const{appState:e}=this.props;e.resetPreviewRange()}),this.onCameraMoveSpeed=(e=>{const{appState:t}=this.props;t.cameraMoveSpeed=e}),this.onCameraRotateSpeed=(e=>{const{appState:t}=this.props;t.cameraRotateSpeed=e})}render(){const{appState:e}=this.props,t={className:Kl.Tooltip,position:as.Left};return Object(r.h)("div",{className:this.getClasses()},Object(r.h)(Za,{title:"Animation settings",icon:n(55)},Object(r.h)(ss,Object.assign({text:"Linear or spherical linear interpolation"},t)),Object(r.h)("div",{className:Kl.QuatInterpolation},Object(r.h)("label",null,"Quat interpolation"),Object(r.h)(Vo,{options:Hl,value:e.useSlerp?"SLERP":"LERP",onSelected:this.onUseSlerp,className:Kl.QuatInterpolationDropdown})),Object(r.h)(Lo,{id:"show-seconds",value:e.showTimeAsSeconds,onChecked:this.onShowSeconds},"Show time as seconds")),Object(r.h)(Za,{title:"Preview range",icon:n(56)},Object(r.h)(Ro,{onClick:this.resetPreviewRange,theme:Co.Beige,className:Kl.InSectionBtn},"Reset preview range"),Object(r.h)(ss,Object.assign({text:"Temporarily limit keyframe range"},t)),Object(r.h)(Ja,{onSelected:this.setPreviewRangeA,name:"preview-start",label:"Preview start",min:0,max:e.frameCount,value:e._previewRange[0]}),Object(r.h)(ss,Object.assign({text:"Temporarily limit keyframe range"},t)),Object(r.h)(Ja,{onSelected:this.setPreviewRangeB,name:"preview-end",label:"Preview end",min:0,max:e.frameCount,value:e._previewRange[1]})),Object(r.h)(Za,{title:"Viewport",icon:n(239),initFolded:!0},Object(r.h)(ss,Object.assign({text:"Camera movement speed with [WSAD]"},t)),Object(r.h)(Ja,{onChange:this.onCameraMoveSpeed,name:"camera-move-size",label:"Camera move speed",min:lu/10,max:lu,value:e.cameraMoveSpeed}),Object(r.h)(ss,Object.assign({text:"Camera rotate speed with mouse"},t)),Object(r.h)(Ja,{onChange:this.onCameraRotateSpeed,name:"camera-rotate-size",label:"Camera rotate speed",min:fu/10,max:fu,value:e.cameraRotateSpeed}),Object(r.h)(ss,Object.assign({text:"Size of selection circle"},t)),Object(r.h)(Ja,{onChange:this.onMarkerSize,name:"marker-size",label:"Marker size",min:cu/10,max:cu,value:e.markerSize}),Object(r.h)(ss,Object.assign({text:"Size of 3d manipulators"},t)),Object(r.h)(Ja,{onChange:this.onGizmoSize,name:"gizmo-size",label:"Gizmo size",min:uu/10,max:uu,value:e.gizmoSize}),Object(r.h)(Lo,{id:"debug-markers",value:e.showDebug,onChecked:this.onDebugMarkers},"Show debug markers")),Object(r.h)(Za,{title:"Import / Export",icon:n(240),initFolded:!0},Object(r.h)(zl,null)))}getClasses(){const{className:e}=this.props;return Lt(Kl.TabGlobal,e)}getPreviewRangeNum(e,t){const{appState:n}=this.props;return(e=qr(e,0,n.frameCount))===t&&(e=0===t?t+1:t-1),e}};Wl=Gl([Object(o.b)("appState"),o.c],Wl);var ql=function(e,t,n){return null==e?e:Aa(e,t,n)},$l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Yl=n(241),Xl=[{type:ou.Move,axis:wr.AxisX,name:"position[0]"},{type:ou.Move,axis:wr.AxisY,name:"position[1]"},{type:ou.Move,axis:wr.AxisZ,name:"position[2]"}],Zl=[{type:ou.Rotate,axis:wr.AxisX,name:"rotation[0]",disabled:!0},{type:ou.Rotate,axis:wr.AxisY,name:"rotation[1]",disabled:!0},{type:ou.Rotate,axis:wr.AxisZ,name:"rotation[2]",disabled:!0},{type:ou.Rotate,axis:void 0,name:"rotation[3]",disabled:!0}];let Ql=class extends r.Component{constructor(){super(...arguments),this.renderInput=(e=>t=>{const{appState:n}=this.props,o=n.currentObjectData,{type:i,axis:a,name:s,disabled:c}=t;let u,l;switch(a){case wr.AxisX:u="x",l=Yl.InputAxisX;break;case wr.AxisY:u="y",l=Yl.InputAxisY;break;case wr.AxisZ:u="z",l=Yl.InputAxisZ;break;default:u="w",l=Yl.InputAxisW}const f=c||!Rc(a,i,o.constraints);return Object(r.h)(Va,{prepend:u,className:l,name:s,disabled:f,value:Ue(e,t.name),onInput:this.onTransformChange,validate:Da.NumberFloat})}),this.onTransformChange=((e,t)=>{const n=t.target.name,r=parseFloat(e);isNaN(r)||this.updateKeyframeProperty(n,r)})}render(){const{appState:e}=this.props,t=e.currentObjectData;if(!t)return Object(r.h)("div",{className:this.getClasses()},Object(r.h)("p",{className:Yl.NoObjectSelected},"No object selected"));const o=this.calculateCurrentTransform();return Object(r.h)("div",{className:this.getClasses()},Object(r.h)("h2",{className:Yl.ObjectName},t.isBone?Object(r.h)(Ia,{svg:n(242)}):Object(r.h)(Ia,{svg:n(59)}),t.name),this.hasKeyframeAtCurrentFrame()?Object(r.h)("p",{className:Yl.KeyframeInfoYes},Object(r.h)(Ia,{svg:n(11)}),"Keyframe"):Object(r.h)("p",{className:Yl.KeyframeInfoNo},"Interpolated frame"),Object(r.h)(Za,{title:"Position",icon:n(57)},Xl.map(this.renderInput(o))),Object(r.h)(Za,{title:"Rotation",icon:n(58)},Object(r.h)("p",{className:Yl.QuaternionWarning},"Rotation is represented as quaternion. Any changes would be ill-advised"),Zl.map(this.renderInput(o))))}calculateCurrentTransform(){const{appState:e,timelineState:t}=this.props,{useSlerp:n,currentFrame:r,selectedObjectName:o}=e,i=t.getTimeline(o),a=Kc(o);return Uu(i,r,a.keyframe0,{useSlerp:n})}hasKeyframeAtCurrentFrame(){const{timelineState:e,appState:t}=this.props;return t.selectedObjectName&&e.hasKeyframeAt(t.selectedObjectName,t.currentFrame)}getClasses(){const{className:e}=this.props;return Lt(Yl.TabObject,e,{[Yl.hasKeyframe]:this.hasKeyframeAtCurrentFrame()})}updateKeyframeProperty(e,t){const{timelineState:n,appState:r}=this.props,{selectedObjectName:o,currentFrame:i}=r,a=this.calculateCurrentTransform(),s=Ir();Ur(s,a),ql(s,e,t),n.setKeyframeAt(o,i,s)}};Ql=$l([Object(o.b)("appState"),Object(o.b)("timelineState"),o.c],Ql);var Jl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const ef=n(236),tf=[{name:"Object",icon:n(59)},{name:"Global",icon:n(243)}];let nf=class extends r.Component{constructor(){super(...arguments),this.renderBody=(e=>{const t="Global"===e,n=e=>e?ef.TabContentActive:ef.TabContentInactive,o=Lt(ef.SettingsBody,t?ef.TabGlobal:ef.TabObject);return Object(r.h)("div",{className:o},Object(r.h)(Ql,{className:Lt(ef.AnimatedTab,n(!t),ef.TabObject),isActive:!t}),Object(r.h)(Wl,{className:Lt(ef.AnimatedTab,n(t),ef.TabGlobal),isActive:t}))})}render(){const{appState:e}=this.props,t=Lt({[ef.IsPlaying]:e.isPlaying});return Object(r.h)("div",{className:this.getClasses()},Object(r.h)(ns,{tabs:tf,className:t},this.renderBody),Object(r.h)(Ya,null,Object(r.h)("h2",null,"Settings - object"),Object(r.h)("p",null,"Data about curent frame"),Object(r.h)("p",null,"(transformation at current point in time)"),Object(r.h)("h2",null,"Settings - global"),Object(r.h)("p",null,"General app settings")))}getClasses(){const{className:e}=this.props;return Lt(ef.Settings,e)}};nf=Jl([Object(o.b)("appState"),o.c],nf);var rf=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};class of{constructor(){this.pressedKeys=new Array(128)}init(e){return rf(this,void 0,void 0,function*(){this.canvas=e,this.gl=cr(this.canvas,{}),this.drawParams=new nr,ir(this.gl,this.drawParams,void 0,!0),this.draggingStatus=of.createSelection(),this.animationState={isPlaying:!1,animationStartTimestamp:0},window.addEventListener("keydown",e=>{this.pressedKeys[e.keyCode]=!0},!1),window.addEventListener("keyup",e=>{this.pressedKeys[e.keyCode]=!1},!1)})}static createSelection(){return{draggedAxis:void 0,draggedGizmo:ou.Move,temporaryDisplacement:Ir()}}setDrawState(e){ir(this.gl,e,this.drawParams),this.drawParams=e}getViewport(){return[this.canvas.width,this.canvas.height]}isDragging(){return void 0!==this.draggingStatus.draggedAxis}}const af=(e,t)=>n=>{const{vao:r,indexGlType:o,indexBuffer:i,triangleCnt:a,material:s}=n;s&&gr(e,t,{g_baseColor:s.baseColor},!0),r.bind(e),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.drawElements(e.TRIANGLES,3*a,o,0)},sf=(e,t)=>{const{glState:{gl:n},scene:r}=e,o=r.materialWithArmature,i=new nr;i.depth.test=Kn.IfLessOrEqual,e.glState.setDrawState(i),o.use(n),((e,t,n)=>{const{glState:{gl:r},scene:o}=e;gr(r,t,{g_MVP:o.getMVP(n.modelMatrix),g_MV:o.getMV(n.modelMatrix)},!0),n.bones.forEach((e,n)=>{const o=e.$frameMatrix,i=`g_BoneTransforms[${n}]`,a=r.getUniformLocation(t.glId,i);r.uniformMatrix4fv(a,!1,o)})})(e,o,t),t.meshes.forEach(af(n,o))},cf=0;var uf;!function(e){e[e.NotClicked=0]="NotClicked",e[e.Camera=1]="Camera",e[e.Marker=2]="Marker"}(uf||(uf={}));const lf=e=>Object(Bt.fromValues)(e.pageX,e.pageY),ff=(e,t)=>Object(Bt.fromValues)(e[0]-t[0],e[1]-t[1]);class hf{constructor(e,t,n){this.glState=t,this.scene=n,this.clickedState=uf.NotClicked,this.lastPosition=Object(Bt.fromValues)(0,0),this.firstClick=Object(Bt.fromValues)(0,0),this.stopDragging=(()=>{this.clickedState===uf.Marker&&this.onMarkerUnclickedHandler&&this.onMarkerUnclickedHandler(),this.clickedState=uf.NotClicked}),this.onMouseDown=(e=>{if(e.button!==cf)return;const t=lf(e);this.firstClick=t,this.lastPosition=t;const{glState:n,scene:r}=this,o=xs(n.getViewport(),r,t);o?(this.clickedState=uf.Marker,this.onMarkerClickedHandler&&this.onMarkerClickedHandler(o)):this.clickedState=uf.Camera}),this.onMouseUp=(e=>{e.button===cf&&this.stopDragging()}),this.onMouseMove=(e=>{const t=this.createDragEvent(e);switch(this.clickedState){case uf.Camera:this.scene.camera.onMouseMove(t);break;case uf.Marker:this.onMarkerDraggedHandler&&this.onMarkerDraggedHandler(t);break;case uf.NotClicked:}}),this.createDragEvent=(e=>{const t=lf(e),n=ff(t,this.lastPosition);return this.lastPosition=t,{firstClick:this.firstClick,position:t,delta:n,totalDelta:ff(t,this.firstClick)}}),e.addEventListener("mousedown",this.onMouseDown,!1),e.addEventListener("mousemove",this.onMouseMove,!1),e.addEventListener("mouseup",this.onMouseUp,!1),e.addEventListener("mouseleave",this.stopDragging,!1)}setOnMarkerClicked(e){this.onMarkerClickedHandler=e}setOnMarkerDragged(e){this.onMarkerDraggedHandler=e}setOnMarkerUnclicked(e){this.onMarkerUnclickedHandler=e}}const pf=e=>document.body.style.cursor=e,df=(e,t,n,r)=>{const o=((e,t,n)=>{const r={viewport:t,viewProjMat:e.getVP()};return gs(r,n)})(e,t,r);return ws(n,o)},vf=(e,t,n)=>{const r=Object(Vt.subtract)(Object(Vt.create)(),n,t);return Object(Vt.length)(r)*((e,t,n)=>{const r=Qr(n,t);return Object(Vt.dot)(e.dir,r)>=0?1:-1})(e,t,n)},mf=e=>{const{mouseEvent:t,axis:n,selectedMarker:r,scene:{camera:o},scene:i,viewport:a}=e,s=r.$position3d,c=r.owner,u=((e,t)=>{const n=xr(t),r=Object(Ut.fromQuat)(Object(Ut.create)(),e.$frameTransform.rotation),o=Wr(n,r,!0);return Object(Vt.normalize)(Object(Vt.create)(),o)})(c,n),l={origin:s,dir:$c(c,n)},f=((e,t)=>{const{origin:n,dir:r}=e,o=Qr(t,n),i=Object(Vt.cross)(Object(Vt.create)(),r,o),a=Object(Vt.cross)(Object(Vt.create)(),i,r);return{normal:a,d:_s(a,n)}})(l,o.getPosition()),h=df(i,a,f,t.firstClick),p=df(i,a,f,t.position),d=Os(h,l),v=Os(p,l),m=vf(l,d,v),b=Object(Vt.scale)(Object(Vt.create)(),u,m);i.getVP();return((e,t,n)=>{t.forEach((e,t)=>{const r=.2*t;e.$position3d=ys(n,r)})})(0,i.debugMarkers.axis,l),i.debugMarkers.dragStart.$position3d=d,i.debugMarkers.dragNowOnPlane.$position3d=p,i.debugMarkers.dragNow.$position3d=v,b},bf=(e,t)=>n=>{const{draggedAxis:r,draggedGizmo:o,temporaryDisplacement:i}=e.draggingStatus,a=((e,t,n)=>{const{draggedAxis:r}=e.draggingStatus,[o,i]=e.getViewport(),{selectedMarker:a}=Sf(t);return{mouseEvent:n,axis:r,selectedMarker:a,scene:t,viewport:{width:o,height:i}}})(e,t,n);if(a.selectedMarker&&void 0!==r)switch(o){case ou.Move:const e=mf(a);i.position=e,pf("move");break;case ou.Rotate:const t=(e=>{const{mouseEvent:t,axis:n}=e,r=xr(n),o=.01*t.totalDelta[0];return Object(Nr.setAxisAngle)(Object(Nr.create)(),r,o)})(a);i.rotation=t,pf("ew-resize")}},gf=(e,t)=>()=>{const{draggingStatus:n}=e;e.isDragging()&&(n.draggedAxis=void 0,(e=>{const{selectedMarker:t}=Sf(e),n=t.owner;sl.setKeyframe(n.$frameTransform)})(t),zr(n.temporaryDisplacement)),pf("default")};let yf=void 0;const Of=(e,t,n)=>{(yf=new hf(e,t,n)).setOnMarkerClicked((e=>t=>{const{draggingStatus:n}=e;switch(t.type){case ps.Bone:n.draggedAxis=void 0,sl.setCurrentObject(t.name);break;case ps.Gizmo:n.draggedAxis=t.owner,zr(n.temporaryDisplacement)}})(t)),yf.setOnMarkerDragged(bf(t,n)),yf.setOnMarkerUnclicked(gf(t,n))},jf=(()=>{const e=Object(Vt.fromValues)(10,10,10),t=Object(Ut.create)();return Object(Ut.scale)(t,t,e)})();let wf,_f;const xf=e=>{if(null===e.getExtension("OES_standard_derivatives"))throw"Webgl extension 'OES_standard_derivatives' is not supported. How even?";_f=new vr(e,Uc.GRID_VERT,Uc.GRID_FRAG);const t=(e=>{const{width:t,height:n}=e,r=t/2,o=n/2;return{vertices:[Cr(-r,0,-o),Cr(-r,0,o),Cr(r,0,-o),Cr(r,0,o)],indices:[{a:0,b:1,c:2},{a:2,b:1,c:3}]}})({width:2,height:2});wf=Object.assign({},Pr(e,t,_f,"a_Position"),{material:void 0})};var Mf=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};const Sf=e=>{const{selectedObjectName:t}=sl.getFromUI(Xu("selectedObjectName"));return{selectedMarker:e.getMarker(t),selectedObjectCfg:Kc(t)}},Af=e=>{const{showMarkers:t}=sl.getFromUI(Xu("showMarkers"));return t&&!e.animationState.isPlaying},Tf=(e,t,n)=>{const{gl:r,pressedKeys:o}=t,{camera:i}=n;((e,t)=>{const{animationState:n}=t,{isPlaying:r}=sl.getFromUI(Xu("isPlaying"));!n.isPlaying&&r&&(n.animationStartTimestamp=e),n.isPlaying=r})(e,t);const a=Object.assign({timing:Pu(e,t),glState:t,scene:n},Sf(n)),{cameraMoveSpeed:s,cameraRotateSpeed:c,selectedObjectName:u}=sl.getFromUI(Xu("cameraMoveSpeed","cameraRotateSpeed","selectedObjectName"));i.update(a.timing.deltaTimeMs,.005*s/10,.025/6*c/10,o),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);const[l,f]=t.getViewport();r.viewport(0,0,l,f),((e,t,n)=>{const r=new nr;r.depth.write=!1,r.culling=Xn.None,t.setDrawState(r),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),_f.use(e);const o=n.getMVP(jf),i=(t,n)=>{gr(e,_f,{g_color:Object(Vt.fromValues)(n,n,n),g_gridDensity:t,g_MVP:o},!0)};i(20,.6),af(e,_f)(wf),i(4,1),af(e,_f)(wf),e.disable(e.BLEND)})(r,t,n);const h={glState:t,selectedObjectName:u,animTimings:a.timing};n.objects.forEach(e=>{((e,t)=>t.forEach(Eu(e)))(h,e.bones),(e=>{rc(e,0,Object(Ut.create)())})(e.bones),sf(a,e)}),((e,t)=>{if(e.isDragging())return;const{draggingStatus:n}=e,{currentGizmo:r}=sl.getFromUI(Xu("currentGizmo"));n.draggedGizmo!==r&&(n.draggedGizmo=r,t.gizmoMeta.markers.forEach(e=>e.radius=void 0))})(t,n),a.selectedMarker?Af(t)&&tu(a,(e=>{const{glState:t,selectedMarker:n}=e,{draggedGizmo:r}=t.draggingStatus,{gizmoSize:o,showDebug:i}=sl.getFromUI(Xu("gizmoSize","showDebug"));return{size:o/100,gizmoType:r,origin:n,forceDrawMarkers:i,isDragging:t.isDragging()}})(a)):(e=>{e.gizmoMeta.markers.forEach(e=>{e.visible=!1,e.clickable=!1})})(n),n.objects.forEach(e=>{oc(n,e)});const{markerSize:p,showDebug:d}=sl.getFromUI(Xu("markerSize","showDebug"));Af(t)&&bs(a,p,d)};let Cf=void 0,Pf=void 0;const Ef=$r("#555056");var Rf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const kf=n(196),Nf=e=>{(e=>Mf(void 0,void 0,void 0,function*(){Cf=new of,yield Cf.init(e),Cf.gl.clearColor(Ef[0],Ef[1],Ef[2],1),Cf.gl.clearDepth(1),xf(Cf.gl),Pf=yield qc(Cf),Of(e,Cf,Pf);const t=e=>{(e=>{const t=e.canvas,n=t.clientWidth,r=t.clientHeight;t.width===n&&t.height===r||(t.width=n,t.height=r)})(Cf.gl),Tf(e,Cf,Pf),Kr(t)};return t}))(e).then(e=>{e(0)}).catch(e=>{console.error("FATAL_ERROR:",e)})},If=Object(o.b)("appState")(Object(o.c)(e=>{const{appState:t}=e;return Object(r.h)("div",{className:kf.FullscreenBtnWrapper},Object(r.h)(Ro,{className:kf.FullscreenBtn,onClick:()=>{t.isFullscreen=!t.isFullscreen}},Object(r.h)(Ia,{svg:n(244)})))}));let Lf=class extends r.Component{constructor(){super(...arguments),this.canvasRef=Dt(),this.timelineRef=Dt(),this.state={isFullscreenAfterTransition:!1},this.onFullscreenTransitionEnd=(e=>{this.setState({isFullscreenAfterTransition:il.isFullscreen})})}componentDidMount(){Nf(this.canvasRef.current);const e=this.timelineRef.current;if(!e)throw"There were problems getting ref for <Timeline>";e.base.addEventListener("transitionend",this.onFullscreenTransitionEnd),this.forceUpdate()}componentWillUnmount(){const e=this.timelineRef.current;e&&e.base.removeEventListener("transitionend",this.onFullscreenTransitionEnd)}render(){return Object(r.h)("div",{className:this.getClasses()},Object(r.h)("div",{className:kf.CanvasWrapper},Object(r.h)("canvas",{id:"anim-canvas",className:kf.AnimCanvas,ref:this.canvasRef})),Object(r.h)(o.a,{appState:il,timelineState:al},Object(r.h)(nf,{className:kf.Settings}),Object(r.h)(Dl,{className:kf.Timeline,ref:this.timelineRef}),Object(r.h)(If,null),Object(r.h)(po,null),Object(r.h)(Ya,{forId:"anim-canvas",className:kf.ViewportPurplecoat},Object(r.h)("h1",null,"Viewport"),Object(r.h)("h2",null,"Controls"),Object(r.h)("p",null,"Use [W][S][A][D][Z][SPACE] to control the camera."),Object(r.h)("p",null,"Click left mouse button on purple dot to select an object. Use manipulators (gizmos) by dragging arrow's end (move) or circle marker (rotate)."),Object(r.h)("p",null,"Drag with left mouse button in unoccupied area to rotate camera."),Object(r.h)("h2",null,"Transformations"),Object(r.h)("p",null,"After each operation a new keyframe is stored at current frame. Use TIMELINE AXIS to switch current frame. Frames that are between keyframes will be automatically interpolated."),Object(r.h)("p",null,"Scene is saved after each change, so You can reload the page if You want."))))}getClasses(){const{className:e,timelineState:t}=this.props,{isFullscreenAfterTransition:n}=this.state;return Lt(kf.App,{[kf.AppFullscreen]:il.isFullscreen},{[kf.AppFullscreenAfterTransition]:n})}};Lf=Rf([o.c],Lf);n(245);Object(r.render)(Object(r.h)(Lf,null),document.querySelector("#app"))}]);